import{r as f,R as C,j as _,c as Qe}from"./app-Q4GQkaml.js";import{c as z,p as et,a as ce,f as Ee,b as tt,Z as nt,V as ot,A as st,g as it,u as lt,y as rt,R as at,T as ut,F as ct,N as ye,w as Ce,L as dt,S as ae,s as ft,$ as De,d as _e,e as pt,h as ht,i as mt,j as gt}from"./element-movement--r2reUMY.js";import{r as Z,d as je,l as we,T as vt,x as Ne,k as bt,G as xt,c as yt,a as St,S as A,b as Ot,n as fe,e as Et,u as Ie,p as Ct,f as wt,y as It,t as $t,g as Rt,o as W,w as Tt}from"./portal-DfM_S2UF.js";import{o as $,p as Ve,m as Mt,u as se,Y as pe,n as te,a as he,c as Pt,i as ge,s as kt,y as ve,b as Ft,d as zt,N as At,V as Se,x as Dt,A as $e}from"./transition-Y4ijeYq1.js";import{f as Le,s as Be,E as _t,m as Re,n as Te}from"./Modal-Fx-PK_xw.js";function jt(t,s,e){let[n,o]=f.useState(e),i=t!==void 0,l=f.useRef(i),r=f.useRef(!1),d=f.useRef(!1);return i&&!l.current&&!r.current?(r.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!d.current&&(d.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?t:n,$(a=>(i||Z.flushSync(()=>o(a)),s?.(a)))]}function Nt(t){let[s]=f.useState(t);return s}function We(t={},s=null,e=[]){for(let[n,o]of Object.entries(t))Ke(e,Ue(s,n),o);return e}function Ue(t,s){return t?t+"["+s+"]":s}function Ke(t,s,e){if(Array.isArray(e))for(let[n,o]of e.entries())Ke(t,Ue(s,n.toString()),o);else e instanceof Date?t.push([s,e.toISOString()]):typeof e=="boolean"?t.push([s,e?"1":"0"]):typeof e=="string"?t.push([s,e]):typeof e=="number"?t.push([s,`${e}`]):e==null?t.push([s,""]):Vt(e)&&!f.isValidElement(e)&&We(e,s,t)}function Vt(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let s=Object.getPrototypeOf(t);return s===null||Object.getPrototypeOf(s)===null}let Lt=f.createContext(null);function Bt({children:t}){let s=f.useContext(Lt);if(!s)return C.createElement(C.Fragment,null,t);let{target:e}=s;return e?Z.createPortal(C.createElement(C.Fragment,null,t),e):null}function Wt({data:t,form:s,disabled:e,onReset:n,overrides:o}){let[i,l]=f.useState(null),r=Ve();return f.useEffect(()=>{if(n&&i)return r.addEventListener(i,"reset",n)},[i,s,n]),C.createElement(Bt,null,C.createElement(Ut,{setForm:l,formId:s}),We(t).map(([d,a])=>C.createElement(Le,{features:Be.Hidden,...Mt({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:e,name:d,value:a,...o})})))}function Ut({setForm:t,formId:s}){return f.useEffect(()=>{if(s){let e=document.getElementById(s);e&&t(e)}},[t,s]),s?null:C.createElement(Le,{features:Be.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:e=>{if(!e)return;let n=e.closest("form");n&&t(n)}})}function oe(t,s,e){let n=e.initialDeps??[],o;function i(){var l,r,d,a;let p;e.key&&((l=e.debug)!=null&&l.call(e))&&(p=Date.now());const v=t();if(!(v.length!==n.length||v.some((c,b)=>n[b]!==c)))return o;n=v;let u;if(e.key&&((r=e.debug)!=null&&r.call(e))&&(u=Date.now()),o=s(...v),e.key&&((d=e.debug)!=null&&d.call(e))){const c=Math.round((Date.now()-p)*100)/100,b=Math.round((Date.now()-u)*100)/100,y=b/16,R=(k,M)=>{for(k=String(k);k.length<M;)k=" "+k;return k};console.info(`%câ± ${R(b,5)} /${R(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,e?.key)}return(a=e?.onChange)==null||a.call(e,o),o}return i.updateDeps=l=>{n=l},i}function Me(t,s){if(t===void 0)throw new Error("Unexpected undefined");return t}const Kt=(t,s)=>Math.abs(t-s)<1.01,qt=(t,s,e)=>{let n;return function(...o){t.clearTimeout(n),n=t.setTimeout(()=>s.apply(this,o),e)}},Pe=t=>{const{offsetWidth:s,offsetHeight:e}=t;return{width:s,height:e}},Ht=t=>t,Gt=t=>{const s=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let o=s;o<=e;o++)n.push(o);return n},Xt=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=t.targetWindow;if(!n)return;const o=l=>{const{width:r,height:d}=l;s({width:Math.round(r),height:Math.round(d)})};if(o(Pe(e)),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(l=>{const r=()=>{const d=l[0];if(d?.borderBoxSize){const a=d.borderBoxSize[0];if(a){o({width:a.inlineSize,height:a.blockSize});return}}o(Pe(e))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},ke={passive:!0},Fe=typeof window>"u"?!0:"onscrollend"in window,Yt=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=t.targetWindow;if(!n)return;let o=0;const i=t.options.useScrollendEvent&&Fe?()=>{}:qt(n,()=>{s(o,!1)},t.options.isScrollingResetDelay),l=p=>()=>{const{horizontal:v,isRtl:m}=t.options;o=v?e.scrollLeft*(m&&-1||1):e.scrollTop,i(),s(o,p)},r=l(!0),d=l(!1);d(),e.addEventListener("scroll",r,ke);const a=t.options.useScrollendEvent&&Fe;return a&&e.addEventListener("scrollend",d,ke),()=>{e.removeEventListener("scroll",r),a&&e.removeEventListener("scrollend",d)}},Zt=(t,s,e)=>{if(s?.borderBoxSize){const n=s.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return t[e.options.horizontal?"offsetWidth":"offsetHeight"]},Jt=(t,{adjustments:s=0,behavior:e},n)=>{var o,i;const l=t+s;(i=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:e})};class Qt{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var o;(o=n())==null||o.disconnect(),e=null},observe:o=>{var i;return(i=n())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=n())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,o])=>{typeof o>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ht,rangeExtractor:Gt,onChange:()=>{},measureElement:Zt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,e)},this.maybeNotify=oe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const o=new Map,i=new Map;for(let l=n-1;l>=0;l--){const r=e[l];if(o.has(r.lane))continue;const d=i.get(r.lane);if(d==null||r.end>d.end?i.set(r.lane,r):r.end<d.end&&o.set(r.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,r)=>l.end===r.end?l.index-r.index:l.end-r.end)[0]:void 0},this.getMeasurementOptions=oe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,n,o,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:o,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=oe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:o,getItemKey:i,enabled:l},r)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,d);for(let p=d;p<e;p++){const v=i(p),m=this.options.lanes===1?a[p-1]:this.getFurthestMeasurement(a,p),u=m?m.end+this.options.gap:n+o,c=r.get(v),b=typeof c=="number"?c:this.options.estimateSize(p),y=u+b,R=m?m.lane:p%this.options.lanes;a[p]={index:p,start:u,size:b,end:y,key:v,lane:R}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=oe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,n,o,i)=>this.range=e.length>0&&n>0?en({measurements:e,outerSize:n,scrollOffset:o,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=oe(()=>{let e=null,n=null;const o=this.calculateRange();return o&&(e=o.startIndex,n=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,n]},(e,n,o,i,l)=>i===null||l===null?[]:e({startIndex:i,endIndex:l,overscan:n,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,o=e.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const o=this.indexFromElement(e),i=this.measurementsCache[o];if(!i)return;const l=i.key,r=this.elementsCache.get(l);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(o,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const o=this.measurementsCache[e];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,l=n-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,o)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(o))});return}this._measureElement(e,void 0)},this.getVirtualItems=oe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,n)=>{const o=[];for(let i=0,l=e.length;i<l;i++){const r=e[i],d=n[r];o.push(d)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return Me(n[qe(0,n.length-1,o=>Me(n[o]).start,e)])},this.getOffsetForAlignment=(e,n,o=0)=>{const i=this.getSize(),l=this.getScrollOffset();n==="auto"&&(n=e>=l+i?"end":"start"),n==="center"?e+=(o-i)/2:n==="end"&&(e-=i);const r=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(r,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const o=this.measurementsCache[e];if(!o)return;const i=this.getSize(),l=this.getScrollOffset();if(n==="auto")if(o.end>=l+i-this.options.scrollPaddingEnd)n="end";else if(o.start<=l+this.options.scrollPaddingStart)n="start";else return[l,n];const r=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,n,o.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:n="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(e,{align:n="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let i=0;const l=10,r=a=>{if(!this.targetWindow)return;const p=this.getOffsetForIndex(e,a);if(!p){console.warn("Failed to get offset for index:",e);return}const[v,m]=p;this._scrollToOffset(v,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const u=this.getScrollOffset(),c=this.getOffsetForIndex(e,m);if(!c){console.warn("Failed to get offset for index:",e);return}Kt(c[0],u)||d(m)})},d=a=>{this.targetWindow&&(i++,i<l?this.targetWindow.requestAnimationFrame(()=>r(a)):console.warn(`Failed to scroll to index ${e} after ${l} attempts.`))};r(n)},this.scrollBy=(e,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let o;if(n.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((e=n[n.length-1])==null?void 0:e.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=n.length-1;for(;l>=0&&i.some(r=>r===null);){const r=n[l];i[r.lane]===null&&(i[r.lane]=r.end),l--}o=Math.max(...i.filter(r=>r!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:o})=>{this.options.scrollToFn(e,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const qe=(t,s,e,n)=>{for(;t<=s;){const o=(t+s)/2|0,i=e(o);if(i<n)t=o+1;else if(i>n)s=o-1;else return o}return t>0?t-1:0};function en({measurements:t,outerSize:s,scrollOffset:e,lanes:n}){const o=t.length-1,i=d=>t[d].start;if(t.length<=n)return{startIndex:0,endIndex:o};let l=qe(0,o,i,e),r=l;if(n===1)for(;r<o&&t[r].end<e+s;)r++;else if(n>1){const d=Array(n).fill(0);for(;r<o&&d.some(p=>p<e+s);){const p=t[r];d[p.lane]=p.end,r++}const a=Array(n).fill(e+s);for(;l>=0&&a.some(p=>p>=e);){const p=t[l];a[p.lane]=p.start,l--}l=Math.max(0,l-l%n),r=Math.min(o,r+(n-1-r%n))}return{startIndex:l,endIndex:r}}const ze=typeof document<"u"?f.useLayoutEffect:f.useEffect;function tn(t){const s=f.useReducer(()=>({}),{})[1],e={...t,onChange:(o,i)=>{var l;i?Z.flushSync(s):s(),(l=t.onChange)==null||l.call(t,o,i)}},[n]=f.useState(()=>new Qt(e));return n.setOptions(e),ze(()=>n._didMount(),[]),ze(()=>n._willUpdate()),n}function nn(t){return tn({observeElementRect:Xt,observeElementOffset:Yt,scrollToFn:Jt,...t})}function on(t,s){return t!==null&&s!==null&&typeof t=="object"&&typeof s=="object"&&"id"in t&&"id"in s?t.id===s.id:t===s}function sn(t=on){return f.useCallback((s,e)=>{if(typeof t=="string"){let n=t;return s?.[n]===e?.[n]}return t(s,e)},[t])}function He(t){let s=f.useRef({value:"",selectionStart:null,selectionEnd:null});return _t(t,"blur",e=>{let n=e.target;we(n)&&(s.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),$(()=>{if(!je(t)&&we(t)&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==s.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:e,selectionEnd:n}=s.current;e!==null&&n!==null&&t.setSelectionRange(e,n)}s.current={value:"",selectionStart:null,selectionEnd:null}}})}function ln({children:t,freeze:s},e){let n=xe(s,t);return f.isValidElement(n)?f.cloneElement(n,{ref:e}):C.createElement(C.Fragment,null,n)}const rn=C.forwardRef(ln);function xe(t,s){let[e,n]=f.useState(s);return!t&&e!==s&&n(s),t?e:s}var an=Object.defineProperty,un=(t,s,e)=>s in t?an(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,Ae=(t,s,e)=>(un(t,typeof s!="symbol"?s+"":s,e),e),g=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g||{}),q=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(q||{}),Y=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(Y||{}),Ge=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.DefaultToFirstOption=6]="DefaultToFirstOption",t[t.SetActivationTrigger=7]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",t[t.SetInputElement=9]="SetInputElement",t[t.SetButtonElement=10]="SetButtonElement",t[t.SetOptionsElement=11]="SetOptionsElement",t[t.MarkInputAsMoved=12]="MarkInputAsMoved",t))(Ge||{});function be(t,s=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=s(t.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,r)=>l.dataRef.current.order-r.dataRef.current.order):xt(n,l=>l.dataRef.current.domRef.current),i=e?o.indexOf(e):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let cn={1(t){var s;if((s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===1)return t;let e=t.inputElement?ce.Tracked(tt(t.inputElement)):t.inputPositionState;return{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:e,__demoMode:!1}},0(t){var s,e;if((s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0,__demoMode:!1,inputPositionState:ce.Idle}}return{...t,comboboxState:0,inputPositionState:ce.Idle,__demoMode:!1}},3(t,s){return t.isTyping===s.isTyping?t:{...t,isTyping:s.isTyping}},2(t,s){var e,n,o,i;if((e=t.dataRef.current)!=null&&e.disabled||t.optionsElement&&!((n=t.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:a,disabled:p}=t.virtual,v=s.focus===z.Specific?s.idx:Ee(s,{resolveItems:()=>a,resolveActiveIndex:()=>{var u,c;return(c=(u=t.activeOptionIndex)!=null?u:a.findIndex(b=>!p(b)))!=null?c:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),m=(o=s.trigger)!=null?o:2;return t.activeOptionIndex===v&&t.activationTrigger===m?t:{...t,activeOptionIndex:v,activationTrigger:m,isTyping:!1,__demoMode:!1}}let l=be(t);if(l.activeOptionIndex===null){let a=l.options.findIndex(p=>!p.dataRef.current.disabled);a!==-1&&(l.activeOptionIndex=a)}let r=s.focus===z.Specific?s.idx:Ee(s,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled}),d=(i=s.trigger)!=null?i:2;return t.activeOptionIndex===r&&t.activationTrigger===d?t:{...t,...l,isTyping:!1,activeOptionIndex:r,activationTrigger:d,__demoMode:!1}},4:(t,s)=>{var e,n,o,i;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:[...t.options,s.payload]};let l=s.payload,r=be(t,a=>(a.push(l),a));t.activeOptionIndex===null&&(o=(n=t.dataRef.current).isSelected)!=null&&o.call(n,s.payload.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(l));let d={...t,...r,activationTrigger:2};return(i=t.dataRef.current)!=null&&i.__demoMode&&t.dataRef.current.value===void 0&&(d.activeOptionIndex=0),d},5:(t,s)=>{var e;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:t.options.filter(o=>o.id!==s.id)};let n=be(t,o=>{let i=o.findIndex(l=>l.id===s.id);return i!==-1&&o.splice(i,1),o});return{...t,...n,activationTrigger:2}},6:(t,s)=>t.defaultToFirstOption===s.value?t:{...t,defaultToFirstOption:s.value},7:(t,s)=>t.activationTrigger===s.trigger?t:{...t,activationTrigger:s.trigger},8:(t,s)=>{var e,n;if(t.virtual===null)return{...t,virtual:{options:s.options,disabled:(e=s.disabled)!=null?e:()=>!1}};if(t.virtual.options===s.options&&t.virtual.disabled===s.disabled)return t;let o=t.activeOptionIndex;if(t.activeOptionIndex!==null){let i=s.options.indexOf(t.virtual.options[t.activeOptionIndex]);i!==-1?o=i:o=null}return{...t,activeOptionIndex:o,virtual:{options:s.options,disabled:(n=s.disabled)!=null?n:()=>!1}}},9:(t,s)=>t.inputElement===s.element?t:{...t,inputElement:s.element},10:(t,s)=>t.buttonElement===s.element?t:{...t,buttonElement:s.element},11:(t,s)=>t.optionsElement===s.element?t:{...t,optionsElement:s.element},12(t){return t.inputPositionState.kind!=="Tracked"?t:{...t,inputPositionState:ce.Moved}}};class Oe extends vt{constructor(s){super(s),Ae(this,"actions",{onChange:e=>{let{onChange:n,compare:o,mode:i,value:l}=this.state.dataRef.current;return se(i,{0:()=>n?.(e),1:()=>{let r=l.slice(),d=r.findIndex(a=>o(a,e));return d===-1?r.push(e):r.splice(d,1),n?.(r)}})},registerOption:(e,n)=>(this.send({type:4,payload:{id:e,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,n)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:n})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(e=this.state.dataRef.current).onClose)==null||n.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:n}=this.state.options[e];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:z.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),Ae(this,"selectors",{activeDescendantId:e=>{var n,o;let i=this.selectors.activeOptionIndex(e);if(i!==null)return e.virtual?(o=e.options.find(l=>!l.dataRef.current.disabled&&e.dataRef.current.compare(l.dataRef.current.value,e.virtual.options[i])))==null?void 0:o.id:(n=e.options[i])==null?void 0:n.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:o,disabled:i}=e.virtual,l=o.findIndex(r=>{var d;return!((d=i?.(r))!=null&&d)});if(l!==-1)return l}let n=e.options.findIndex(o=>!o.dataRef.current.disabled);if(n!==-1)return n}return e.activeOptionIndex},activeOption:e=>{var n,o;let i=this.selectors.activeOptionIndex(e);return i===null?null:e.virtual?e.virtual.options[i??0]:(o=(n=e.options[i])==null?void 0:n.dataRef.current.value)!=null?o:null},isActive:(e,n,o)=>{var i;let l=this.selectors.activeOptionIndex(e);return l===null?!1:e.virtual?l===e.dataRef.current.calculateIndex(n):((i=e.options[l])==null?void 0:i.id)===o},shouldScrollIntoView:(e,n,o)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,n,o)),didInputMove(e){return e.inputPositionState.kind==="Moved"}});{let e=this.state.id,n=Ne.get(null);this.disposables.add(n.on(bt.Push,o=>{!n.selectors.isTop(o,e)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>n.actions.push(e)),this.on(1,()=>n.actions.pop(e))}this.disposables.group(e=>{this.on(1,n=>{n.inputElement&&(e.dispose(),e.add(et(n.inputElement,n.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:s,virtual:e=null,__demoMode:n=!1}){var o;return new Oe({id:s,dataRef:{current:{}},comboboxState:n?0:1,isTyping:!1,options:[],virtual:e?{options:e.options,disabled:(o=e.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:n,inputPositionState:ce.Idle})}reduce(s,e){return se(e.type,cn,s,e)}}const Xe=f.createContext(null);function me(t){let s=f.useContext(Xe);if(s===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Ye),e}return s}function Ye({id:t,virtual:s=null,__demoMode:e=!1}){let n=f.useMemo(()=>Oe.new({id:t,virtual:s,__demoMode:e}),[]);return yt(()=>n.dispose()),n}let de=f.createContext(null);de.displayName="ComboboxDataContext";function ie(t){let s=f.useContext(de);if(s===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,ie),e}return s}let Ze=f.createContext(null);function dn(t){let s=me("VirtualProvider"),e=ie("VirtualProvider"),{options:n}=e.virtual,o=A(s,u=>u.optionsElement),[i,l]=f.useMemo(()=>{let u=o;if(!u)return[0,0];let c=window.getComputedStyle(u);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[o]),r=nn({enabled:n.length!==0,scrollPaddingStart:i,scrollPaddingEnd:l,count:n.length,estimateSize(){return 40},getScrollElement(){return s.state.optionsElement},overscan:12}),[d,a]=f.useState(0);te(()=>{a(u=>u+1)},[n]);let p=r.getVirtualItems(),v=A(s,u=>u.activationTrigger===Y.Pointer),m=A(s,s.selectors.activeOptionIndex);return p.length===0?null:C.createElement(Ze.Provider,{value:r},C.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:u=>{u&&(v||m!==null&&n.length>m&&r.scrollToIndex(m))}},p.map(u=>{var c;return C.createElement(f.Fragment,{key:u.key},C.cloneElement((c=t.children)==null?void 0:c.call(t,{...t.slot,option:n[u.index]}),{key:`${d}-${u.key}`,"data-index":u.index,"aria-setsize":n.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}}))})))}let fn=f.Fragment;function pn(t,s){let e=f.useId(),n=St(),{value:o,defaultValue:i,onChange:l,form:r,name:d,by:a,invalid:p=!1,disabled:v=n||!1,onClose:m,__demoMode:u=!1,multiple:c=!1,immediate:b=!1,virtual:y=null,nullable:R,...k}=t,M=Nt(i),[P=c?[]:void 0,U]=jt(o,l,M),S=Ye({id:e,virtual:y,__demoMode:u}),V=f.useRef({static:!1,hold:!1}),T=sn(a),j=$(E=>y?a===null?y.options.indexOf(E):y.options.findIndex(ee=>T(ee,E)):S.state.options.findIndex(ee=>T(ee.dataRef.current.value,E))),G=f.useCallback(E=>se(L.mode,{[q.Multi]:()=>P.some(ee=>T(ee,E)),[q.Single]:()=>T(P,E)}),[P]),X=A(S,E=>E.virtual),x=$(()=>m?.()),L=f.useMemo(()=>({__demoMode:u,immediate:b,optionsPropsRef:V,value:P,defaultValue:M,disabled:v,invalid:p,mode:c?q.Multi:q.Single,virtual:y?X:null,onChange:U,isSelected:G,calculateIndex:j,compare:T,onClose:x}),[u,b,V,P,M,v,p,c,y,X,U,G,j,T,x]);te(()=>{var E;y&&S.send({type:Ge.UpdateVirtualConfiguration,options:y.options,disabled:(E=y.disabled)!=null?E:null})},[y,y?.options,y?.disabled]),te(()=>{S.state.dataRef.current=L},[L]);let[B,O,H,le]=A(S,E=>[E.comboboxState,E.buttonElement,E.inputElement,E.optionsElement]),J=Ne.get(null),ne=A(J,f.useCallback(E=>J.selectors.isTop(E,e),[J,e]));Ot(ne,[O,H,le],()=>S.actions.closeCombobox());let Q=A(S,S.selectors.activeOptionIndex),re=A(S,S.selectors.activeOption),h=fe({open:B===g.Open,disabled:v,invalid:p,activeIndex:Q,activeOption:re,value:P}),[K,I]=ot(),D=s===null?{}:{ref:s},w=f.useCallback(()=>{if(M!==void 0)return U?.(M)},[U,M]),N=he();return C.createElement(I,{value:K,props:{htmlFor:H?.id},slot:{open:B===g.Open,disabled:v}},C.createElement(st,null,C.createElement(de.Provider,{value:L},C.createElement(Xe.Provider,{value:S},C.createElement(Pt,{value:se(B,{[g.Open]:ge.Open,[g.Closed]:ge.Closed})},d!=null&&C.createElement(Wt,{disabled:v,data:P!=null?{[d]:P}:{},form:r,onReset:w}),N({ourProps:D,theirProps:k,slot:h,defaultTag:fn,name:"Combobox"}))))))}let hn="input";function mn(t,s){var e,n;let o=me("Combobox.Input"),i=ie("Combobox.Input"),l=f.useId(),r=mt(),{id:d=r||`headlessui-combobox-input-${l}`,onChange:a,displayValue:p,disabled:v=i.disabled||!1,autoFocus:m=!1,type:u="text",...c}=t,b=f.useRef(null),y=ve(b,s,gt(),o.actions.setInputElement),[R,k]=A(o,h=>[h.comboboxState,h.isTyping]),M=Ve(),P=$(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:z.Nothing})}),U=f.useMemo(()=>{var h;return typeof p=="function"&&i.value!==void 0?(h=p(i.value))!=null?h:"":typeof i.value=="string"?i.value:""},[i.value,p]);Re(([h,K],[I,D])=>{if(o.state.isTyping)return;let w=b.current;w&&((D===g.Open&&K===g.Closed||h!==I)&&(w.value=h),requestAnimationFrame(()=>{if(o.state.isTyping||!w||je(w))return;let{selectionStart:N,selectionEnd:E}=w;Math.abs((E??0)-(N??0))===0&&N===0&&w.setSelectionRange(w.value.length,w.value.length)}))},[U,R,k]),Re(([h],[K])=>{if(h===g.Open&&K===g.Closed){if(o.state.isTyping)return;let I=b.current;if(!I)return;let D=I.value,{selectionStart:w,selectionEnd:N,selectionDirection:E}=I;I.value="",I.value=D,E!==null?I.setSelectionRange(w,N,E):I.setSelectionRange(w,N)}},[R]);let S=f.useRef(!1),V=$(()=>{S.current=!0}),T=$(()=>{M.nextFrame(()=>{S.current=!1})}),j=$(h=>{switch(o.actions.setIsTyping(!0),h.key){case W.Enter:if(o.state.comboboxState!==g.Open||S.current)return;if(h.preventDefault(),h.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),i.mode===q.Single&&o.actions.closeCombobox();break;case W.ArrowDown:return h.preventDefault(),h.stopPropagation(),se(o.state.comboboxState,{[g.Open]:()=>o.actions.goToOption({focus:z.Next}),[g.Closed]:()=>o.actions.openCombobox()});case W.ArrowUp:return h.preventDefault(),h.stopPropagation(),se(o.state.comboboxState,{[g.Open]:()=>o.actions.goToOption({focus:z.Previous}),[g.Closed]:()=>{Z.flushSync(()=>o.actions.openCombobox()),i.value||o.actions.goToOption({focus:z.Last})}});case W.Home:if(o.state.comboboxState===g.Closed||h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),o.actions.goToOption({focus:z.First});case W.PageUp:return h.preventDefault(),h.stopPropagation(),o.actions.goToOption({focus:z.First});case W.End:if(o.state.comboboxState===g.Closed||h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),o.actions.goToOption({focus:z.Last});case W.PageDown:return h.preventDefault(),h.stopPropagation(),o.actions.goToOption({focus:z.Last});case W.Escape:return o.state.comboboxState!==g.Open?void 0:(h.preventDefault(),o.state.optionsElement&&!i.optionsPropsRef.current.static&&h.stopPropagation(),i.mode===q.Single&&i.value===null&&P(),o.actions.closeCombobox());case W.Tab:if(o.actions.setIsTyping(!1),o.state.comboboxState!==g.Open)return;i.mode===q.Single&&o.state.activationTrigger!==Y.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),G=$(h=>{a?.(h),i.mode===q.Single&&h.target.value===""&&P(),o.actions.openCombobox()}),X=$(h=>{var K,I,D;let w=(K=h.relatedTarget)!=null?K:Te.find(N=>N!==h.currentTarget);if(!((I=o.state.optionsElement)!=null&&I.contains(w))&&!((D=o.state.buttonElement)!=null&&D.contains(w))&&o.state.comboboxState===g.Open)return h.preventDefault(),i.mode===q.Single&&i.value===null&&P(),o.actions.closeCombobox()}),x=$(h=>{var K,I,D;let w=(K=h.relatedTarget)!=null?K:Te.find(N=>N!==h.currentTarget);(I=o.state.buttonElement)!=null&&I.contains(w)||(D=o.state.optionsElement)!=null&&D.contains(w)||i.disabled||i.immediate&&o.state.comboboxState!==g.Open&&M.microTask(()=>{Z.flushSync(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(Y.Focus)})}),L=ye(),B=Tt(),{isFocused:O,focusProps:H}=De({autoFocus:m}),{isHovered:le,hoverProps:J}=_e({isDisabled:v}),ne=A(o,h=>h.optionsElement),Q=fe({open:R===g.Open,disabled:v,invalid:i.invalid,hover:le,focus:O,autofocus:m}),re=Se({ref:y,id:d,role:"combobox",type:u,"aria-controls":ne?.id,"aria-expanded":R===g.Open,"aria-activedescendant":A(o,o.selectors.activeDescendantId),"aria-labelledby":L,"aria-describedby":B,"aria-autocomplete":"list",defaultValue:(n=(e=t.defaultValue)!=null?e:i.defaultValue!==void 0?p?.(i.defaultValue):null)!=null?n:i.defaultValue,disabled:v||void 0,autoFocus:m,onCompositionStart:V,onCompositionEnd:T,onKeyDown:j,onChange:G,onFocus:x,onBlur:X},H,J);return he()({ourProps:re,theirProps:c,slot:Q,defaultTag:hn,name:"Combobox.Input"})}let gn="button";function vn(t,s){let e=me("Combobox.Button"),n=ie("Combobox.Button"),[o,i]=f.useState(null),l=ve(s,i,e.actions.setButtonElement),r=f.useId(),{id:d=`headlessui-combobox-button-${r}`,disabled:a=n.disabled||!1,autoFocus:p=!1,...v}=t,[m,u,c]=A(e,x=>[x.comboboxState,x.inputElement,x.optionsElement]),b=He(u),y=m===g.Open;dt(y,{trigger:o,action:f.useCallback(x=>{if(o!=null&&o.contains(x.target))return ae.Ignore;if(u!=null&&u.contains(x.target))return ae.Ignore;let L=x.target.closest('[role="option"]:not([data-disabled])');return Rt(L)?ae.Select(L):c!=null&&c.contains(x.target)?ae.Ignore:ae.Close},[o,u,c]),close:e.actions.closeCombobox,select:e.actions.selectActiveOption});let R=$(x=>{switch(x.key){case W.Space:case W.Enter:x.preventDefault(),x.stopPropagation(),e.state.comboboxState===g.Closed&&Z.flushSync(()=>e.actions.openCombobox()),b();return;case W.ArrowDown:x.preventDefault(),x.stopPropagation(),e.state.comboboxState===g.Closed&&(Z.flushSync(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:z.First})),b();return;case W.ArrowUp:x.preventDefault(),x.stopPropagation(),e.state.comboboxState===g.Closed&&(Z.flushSync(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:z.Last})),b();return;case W.Escape:if(e.state.comboboxState!==g.Open)return;x.preventDefault(),e.state.optionsElement&&!n.optionsPropsRef.current.static&&x.stopPropagation(),Z.flushSync(()=>e.actions.closeCombobox()),b();return;default:return}}),k=ft(()=>{e.state.comboboxState===g.Open?e.actions.closeCombobox():e.actions.openCombobox(),b()}),M=ye([d]),{isFocusVisible:P,focusProps:U}=De({autoFocus:p}),{isHovered:S,hoverProps:V}=_e({isDisabled:a}),{pressed:T,pressProps:j}=pt({disabled:a}),G=fe({open:m===g.Open,active:T||m===g.Open,disabled:a,invalid:n.invalid,value:n.value,hover:S,focus:P}),X=Se({ref:l,id:d,type:ht(t,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":c?.id,"aria-expanded":m===g.Open,"aria-labelledby":M,disabled:a||void 0,autoFocus:p,onKeyDown:R},k,U,V,j);return he()({ourProps:X,theirProps:v,slot:G,defaultTag:gn,name:"Combobox.Button"})}let bn="div",xn=$e.RenderStrategy|$e.Static;function yn(t,s){var e,n,o;let i=f.useId(),{id:l=`headlessui-combobox-options-${i}`,hold:r=!1,anchor:d,portal:a=!1,modal:p=!0,transition:v=!1,...m}=t,u=me("Combobox.Options"),c=ie("Combobox.Options"),b=rt(d);b&&(a=!0);let[y,R]=at(b),[k,M]=f.useState(null),P=ut(),U=ve(s,b?y:null,u.actions.setOptionsElement,M),[S,V,T,j,G]=A(u,F=>[F.comboboxState,F.inputElement,F.buttonElement,F.optionsElement,F.activationTrigger]),X=Ie(V||T),x=Ie(j),L=zt(),[B,O]=At(v,k,L!==null?(L&ge.Open)===ge.Open:S===g.Open);Ct(B,V,u.actions.closeCombobox);let H=c.__demoMode?!1:p&&S===g.Open;wt(H,x);let le=c.__demoMode?!1:p&&S===g.Open;It(le,{allowed:f.useCallback(()=>[V,T,j],[V,T,j])});let J=A(u,u.selectors.didInputMove)?!1:B;te(()=>{var F;c.optionsPropsRef.current.static=(F=t.static)!=null?F:!1},[c.optionsPropsRef,t.static]),te(()=>{c.optionsPropsRef.current.hold=r},[c.optionsPropsRef,r]),ct(S===g.Open,{container:j,accept(F){return F.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:F.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(F){F.setAttribute("role","none")}});let ne=ye([T?.id]),Q=fe({open:S===g.Open,option:void 0}),re=$(()=>{u.actions.setActivationTrigger(Y.Pointer)}),h=$(F=>{F.preventDefault(),u.actions.setActivationTrigger(Y.Pointer)}),K=Se(b?P():{},{"aria-labelledby":ne,role:"listbox","aria-multiselectable":c.mode===q.Multi?!0:void 0,id:l,ref:U,style:{...m.style,...R,"--input-width":Ce(B,V,!0).width,"--button-width":Ce(B,T,!0).width},onWheel:G===Y.Pointer?void 0:re,onMouseDown:h,...Dt(O)}),I=B&&S===g.Closed&&!t.static,D=xe(I,(e=c.virtual)==null?void 0:e.options),w=xe(I,c.value),N=f.useCallback(F=>c.compare(w,F),[c.compare,w]),E=f.useMemo(()=>{if(!c.virtual)return c;if(D===void 0)throw new Error("Missing `options` in virtual mode");return D!==c.virtual.options?{...c,virtual:{...c.virtual,options:D}}:c},[c,D,(n=c.virtual)==null?void 0:n.options]);c.virtual&&Object.assign(m,{children:C.createElement(de.Provider,{value:E},C.createElement(dn,{slot:Q},m.children))});let ee=he(),Je=f.useMemo(()=>c.mode===q.Multi?c:{...c,isSelected:N},[c,N]);return C.createElement($t,{enabled:a?t.static||B:!1,ownerDocument:X},C.createElement(de.Provider,{value:Je},ee({ourProps:K,theirProps:{...m,children:C.createElement(rn,{freeze:I},typeof m.children=="function"?(o=m.children)==null?void 0:o.call(m,Q):m.children)},slot:Q,defaultTag:bn,features:xn,visible:J,name:"Combobox.Options"})))}let Sn="div";function On(t,s){var e,n,o;let i=ie("Combobox.Option"),l=me("Combobox.Option"),r=f.useId(),{id:d=`headlessui-combobox-option-${r}`,value:a,disabled:p=(o=(n=(e=i.virtual)==null?void 0:e.disabled)==null?void 0:n.call(e,a))!=null?o:!1,order:v=null,...m}=t,[u]=A(l,O=>[O.inputElement]),c=He(u),b=A(l,f.useCallback(O=>l.selectors.isActive(O,a,d),[a,d])),y=i.isSelected(a),R=f.useRef(null),k=kt({disabled:p,value:a,domRef:R,order:v}),M=f.useContext(Ze),P=ve(s,R,M?M.measureElement:null),U=$(()=>{l.actions.setIsTyping(!1),l.actions.onChange(a)});te(()=>l.actions.registerOption(d,k),[k,d]);let S=A(l,f.useCallback(O=>l.selectors.shouldScrollIntoView(O,a,d),[a,d]));te(()=>{if(S)return Ft().requestAnimationFrame(()=>{var O,H;(H=(O=R.current)==null?void 0:O.scrollIntoView)==null||H.call(O,{block:"nearest"})})},[S,R]);let V=$(O=>{O.preventDefault(),O.button===it.Left&&(p||(U(),Et()||requestAnimationFrame(()=>c()),i.mode===q.Single&&l.actions.closeCombobox()))}),T=$(()=>{if(p)return l.actions.goToOption({focus:z.Nothing});let O=i.calculateIndex(a);l.actions.goToOption({focus:z.Specific,idx:O})}),j=lt(),G=$(O=>j.update(O)),X=$(O=>{if(!j.wasMoved(O)||p||b&&l.state.activationTrigger===Y.Pointer)return;let H=i.calculateIndex(a);l.actions.goToOption({focus:z.Specific,idx:H},Y.Pointer)}),x=$(O=>{j.wasMoved(O)&&(p||b&&(i.optionsPropsRef.current.hold||l.state.activationTrigger===Y.Pointer&&l.actions.goToOption({focus:z.Nothing})))}),L=fe({active:b,focus:b,selected:y,disabled:p}),B={id:d,ref:P,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":y,disabled:void 0,onMouseDown:V,onFocus:T,onPointerEnter:G,onMouseEnter:G,onPointerMove:X,onMouseMove:X,onPointerLeave:x,onMouseLeave:x};return he()({ourProps:B,theirProps:m,slot:L,defaultTag:Sn,name:"Combobox.Option"})}let En=pe(pn),Cn=pe(vn),wn=pe(mn),In=nt,$n=pe(yn),Rn=pe(On),ue=Object.assign(En,{Input:wn,Button:Cn,Label:In,Options:$n,Option:Rn});function Tn({title:t,titleId:s,...e},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},e),t?f.createElement("title",{id:s},t):null,f.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Mn=f.forwardRef(Tn);function Pn({title:t,titleId:s,...e},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},e),t?f.createElement("title",{id:s},t):null,f.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const kn=f.forwardRef(Pn);function jn({value:t,onChange:s,persons:e=[]}){const[n,o]=f.useState(""),[i,l]=f.useState(null),[r,d]=f.useState(e),[a,p]=f.useState(!1);f.useEffect(()=>{if(t){const u=r.find(c=>c.id===parseInt(t));l(u||null)}else l(null)},[t,r]);const v=n===""?r:r.filter(u=>u.name.toLowerCase().includes(n.toLowerCase())),m=async()=>{if(n){p(!0);try{const c=(await Qe.post(route("admin.persons.store"),{name:n},{headers:{Accept:"application/json"}})).data;d([...r,c]),l(c),s(c.id),o("")}catch(u){console.error("Failed to create person",u)}finally{p(!1)}}};return _.jsx(ue,{as:"div",value:i,onChange:u=>{u&&(l(u),s(u.id))},children:_.jsxs("div",{className:"relative mt-1",children:[_.jsx(ue.Input,{className:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-300",onChange:u=>o(u.target.value),displayValue:u=>u?.name,placeholder:"Select or create a person..."}),_.jsx(ue.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:_.jsx(kn,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),v.length>0&&_.jsx(ue.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800",children:v.map(u=>_.jsx(ue.Option,{value:u,className:({active:c})=>`relative cursor-default select-none py-2 pl-3 pr-9 ${c?"bg-indigo-600 text-white":"text-gray-900 dark:text-gray-300"}`,children:({active:c,selected:b})=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center",children:[u.photo_url&&_.jsx("img",{src:u.photo_url,alt:"",className:"h-6 w-6 flex-shrink-0 rounded-full mr-2"}),_.jsx("span",{className:`block truncate ${b?"font-semibold":"font-normal"}`,children:u.name})]}),b&&_.jsx("span",{className:`absolute inset-y-0 right-0 flex items-center pr-4 ${c?"text-white":"text-indigo-600"}`,children:_.jsx(Mn,{className:"h-5 w-5","aria-hidden":"true"})})]})},u.id))}),n!==""&&v.length===0&&_.jsx("div",{className:"absolute z-10 mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800",children:_.jsx("div",{className:"relative cursor-pointer select-none py-2 px-4 text-gray-700 dark:text-gray-300 hover:bg-indigo-600 hover:text-white",onClick:m,children:a?"Creating...":`Create "${n}"`})})]})})}export{jn as P};
