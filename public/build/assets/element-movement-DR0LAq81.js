import{R as _e,r as f,t as en}from"./app-D1xBa9XH.js";import{h as yt,C as tn,D as xt,a as nn,L as on,F as Je,l as rn,n as sn,J as Qe,K as ln,i as cn,r as he,g as an}from"./portal-B48OnhHg.js";import{p as $t,o as K,Y as un,y as fn,n as ee,a as dn,b as Et}from"./transition-B877udE5.js";const Rt=typeof document<"u"?_e.useLayoutEffect:()=>{};var Fe;const gn=(Fe=_e.useInsertionEffect)!==null&&Fe!==void 0?Fe:Rt;function pn(e){const t=f.useRef(null);return gn(()=>{t.current=e},[e]),f.useCallback((...n)=>{const o=t.current;return o?.(...n)},[])}const X=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},q=e=>e&&"window"in e&&e.window===e?e:X(e).defaultView||window;function mn(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function hn(e){return mn(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let vn=!1;function je(){return vn}function Ct(e,t){if(!je())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:hn(n)?n=n.host:n=n.parentNode}return!1}const ke=(e=document)=>{var t;if(!je())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Tt(e){return je()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function bn(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(o=>e.test(o.brand))||e.test(window.navigator.userAgent)}function wn(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function St(e){let t=null;return()=>(t==null&&(t=e()),t)}const yn=St(function(){return wn(/^Mac/i)}),xn=St(function(){return bn(/Android/i)});function Ft(){let e=f.useRef(new Map),t=f.useCallback((r,i,s,l)=>{let c=l?.once?(...a)=>{e.current.delete(s),s(...a)}:s;e.current.set(s,{type:i,eventTarget:r,fn:c,options:l}),r.addEventListener(i,c,l)},[]),n=f.useCallback((r,i,s,l)=>{var c;let a=((c=e.current.get(s))===null||c===void 0?void 0:c.fn)||s;r.removeEventListener(i,a,l),e.current.delete(s)},[]),o=f.useCallback(()=>{e.current.forEach((r,i)=>{n(r.eventTarget,r.type,i,r.options)})},[n]);return f.useEffect(()=>o,[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}function $n(e){return e.pointerType===""&&e.isTrusted?!0:xn()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Lt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function En(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function At(e){let t=f.useRef({isFocused:!1,observer:null});Rt(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let n=pn(o=>{e?.(o)});return f.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=o.target,i=s=>{if(t.current.isFocused=!1,r.disabled){let l=Lt(s);n(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Rn=!1,ue=null,De=new Set,le=new Map,J=!1,He=!1;const Cn={Tab:!0,Escape:!0};function Ge(e,t){for(let n of De)n(e,t)}function Tn(e){return!(e.metaKey||!yn()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ve(e){J=!0,Tn(e)&&(ue="keyboard",Ge("keyboard",e))}function te(e){ue="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(J=!0,Ge("pointer",e))}function Mt(e){$n(e)&&(J=!0,ue="virtual")}function Pt(e){e.target===window||e.target===document||Rn||!e.isTrusted||(!J&&!He&&(ue="virtual",Ge("virtual",e)),J=!1,He=!1)}function Ot(){J=!1,He=!0}function Ie(e){if(typeof window>"u"||typeof document>"u"||le.get(q(e)))return;const t=q(e),n=X(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){J=!0,o.apply(this,arguments)},n.addEventListener("keydown",ve,!0),n.addEventListener("keyup",ve,!0),n.addEventListener("click",Mt,!0),t.addEventListener("focus",Pt,!0),t.addEventListener("blur",Ot,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",te,!0),n.addEventListener("pointermove",te,!0),n.addEventListener("pointerup",te,!0)),t.addEventListener("beforeunload",()=>{kt(e)},{once:!0}),le.set(t,{focus:o})}const kt=(e,t)=>{const n=q(e),o=X(e);t&&o.removeEventListener("DOMContentLoaded",t),le.has(n)&&(n.HTMLElement.prototype.focus=le.get(n).focus,o.removeEventListener("keydown",ve,!0),o.removeEventListener("keyup",ve,!0),o.removeEventListener("click",Mt,!0),n.removeEventListener("focus",Pt,!0),n.removeEventListener("blur",Ot,!1),typeof PointerEvent<"u"&&(o.removeEventListener("pointerdown",te,!0),o.removeEventListener("pointermove",te,!0),o.removeEventListener("pointerup",te,!0)),le.delete(n))};function Sn(e){const t=X(e);let n;return t.readyState!=="loading"?Ie(e):(n=()=>{Ie(e)},t.addEventListener("DOMContentLoaded",n)),()=>kt(e,n)}typeof document<"u"&&Sn();function Dt(){return ue!=="pointer"}const Fn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ln(e,t,n){let o=X(n?.target);const r=typeof window<"u"?q(n?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?q(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?q(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?q(n?.target).KeyboardEvent:KeyboardEvent;return e=e||o.activeElement instanceof r&&!Fn.has(o.activeElement.type)||o.activeElement instanceof i||o.activeElement instanceof s&&o.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!Cn[n.key])}function An(e,t,n){Ie(),f.useEffect(()=>{let o=(r,i)=>{Ln(!!n?.isTextInput,r,i)&&e(Dt())};return De.add(o),()=>{De.delete(o)}},t)}function Mn(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:r}=e;const i=f.useCallback(c=>{if(c.target===c.currentTarget)return o&&o(c),r&&r(!1),!0},[o,r]),s=At(i),l=f.useCallback(c=>{const a=X(c.target),u=a?ke(a):ke();c.target===c.currentTarget&&u===Tt(c.nativeEvent)&&(n&&n(c),r&&r(!0),s(c))},[r,n,s]);return{focusProps:{onFocus:!t&&(n||r||o)?l:void 0,onBlur:!t&&(o||r)?i:void 0}}}function Pn(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,i=f.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:l}=Ft(),c=f.useCallback(g=>{g.currentTarget.contains(g.target)&&i.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(g),r&&r(!1))},[n,r,i,l]),a=At(c),u=f.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const h=X(g.target),d=ke(h);if(!i.current.isFocusWithin&&d===Tt(g.nativeEvent)){o&&o(g),r&&r(!0),i.current.isFocusWithin=!0,a(g);let p=g.currentTarget;s(h,"focus",m=>{if(i.current.isFocusWithin&&!Ct(p,m.target)){let v=new h.defaultView.FocusEvent("blur",{relatedTarget:m.target});En(v,p);let b=Lt(v);c(b)}},{capture:!0})}},[o,r,a,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}let Be=!1,ge=0;function On(){Be=!0,setTimeout(()=>{Be=!1},50)}function Ze(e){e.pointerType==="touch"&&On()}function kn(){if(!(typeof document>"u"))return ge===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Ze),ge++,()=>{ge--,!(ge>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Ze)}}function yr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[i,s]=f.useState(!1),l=f.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;f.useEffect(kn,[]);let{addGlobalListener:c,removeAllGlobalListeners:a}=Ft(),{hoverProps:u,triggerHoverEnd:g}=f.useMemo(()=>{let h=(m,v)=>{if(l.pointerType=v,r||v==="touch"||l.isHovered||!m.currentTarget.contains(m.target))return;l.isHovered=!0;let b=m.currentTarget;l.target=b,c(X(m.target),"pointerover",y=>{l.isHovered&&l.target&&!Ct(l.target,y.target)&&d(y,y.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),s(!0)},d=(m,v)=>{let b=l.target;l.pointerType="",l.target=null,!(v==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,a(),o&&o({type:"hoverend",target:b,pointerType:v}),n&&n(!1),s(!1))},p={};return typeof PointerEvent<"u"&&(p.onPointerEnter=m=>{Be&&m.pointerType==="mouse"||h(m,m.pointerType)},p.onPointerLeave=m=>{!r&&m.currentTarget.contains(m.target)&&d(m,m.pointerType)}),{hoverProps:p,triggerHoverEnd:d}},[t,n,o,r,l,c,a]);return f.useEffect(()=>{r&&g({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:u,isHovered:i}}function xr(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,r=f.useRef({isFocused:!1,isFocusVisible:t||Dt()}),[i,s]=f.useState(!1),[l,c]=f.useState(()=>r.current.isFocused&&r.current.isFocusVisible),a=f.useCallback(()=>c(r.current.isFocused&&r.current.isFocusVisible),[]),u=f.useCallback(d=>{r.current.isFocused=d,s(d),a()},[a]);An(d=>{r.current.isFocusVisible=d,a()},[],{isTextInput:n});let{focusProps:g}=Mn({isDisabled:o,onFocusChange:u}),{focusWithinProps:h}=Pn({isDisabled:!o,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:l,focusProps:o?h:g}}function Dn(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Hn(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function $r({disabled:e=!1}={}){let t=f.useRef(null),[n,o]=f.useState(!1),r=$t(),i=K(()=>{t.current=null,o(!1),r.dispose()}),s=K(l=>{if(r.dispose(),t.current===null){t.current=l.currentTarget,o(!0);{let c=yt(l.currentTarget);r.addEventListener(c,"pointerup",i,!1),r.addEventListener(c,"pointermove",a=>{if(t.current){let u=Dn(a);o(Hn(u,t.current.getBoundingClientRect()))}},!1),r.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}let In=f.createContext(void 0);function Bn(){return f.useContext(In)}function et(e){let t=e.parentElement,n=null;for(;t&&!tn(t);)xt(t)&&(n=t),t=t.parentElement;let o=t?.getAttribute("disabled")==="";return o&&Wn(n)?!1:o}function Wn(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(xt(t))return!1;t=t.previousElementSibling}return!0}let xe=f.createContext(null);xe.displayName="LabelContext";function Ht(){let e=f.useContext(xe);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ht),t}return e}function Nn(e){var t,n,o;let r=(n=(t=f.useContext(xe))==null?void 0:t.value)!=null?n:void 0;return((o=e?.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function Er({inherit:e=!1}={}){let t=Nn(),[n,o]=f.useState([]),r=e?[t,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,f.useMemo(()=>function(i){let s=K(c=>(o(a=>[...a,c]),()=>o(a=>{let u=a.slice(),g=u.indexOf(c);return g!==-1&&u.splice(g,1),u}))),l=f.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return _e.createElement(xe.Provider,{value:l},i.children)},[o])]}let Vn="label";function _n(e,t){var n;let o=f.useId(),r=Ht(),i=Bn(),s=nn(),{id:l=`headlessui-label-${o}`,htmlFor:c=i??((n=r.props)==null?void 0:n.htmlFor),passive:a=!1,...u}=e,g=fn(t);ee(()=>r.register(l),[l,r.register]);let h=K(m=>{let v=m.currentTarget;if(!(m.target!==m.currentTarget&&on(m.target))&&(Je(v)&&m.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(m),Je(v))){let b=document.getElementById(v.htmlFor);if(b){let y=b.getAttribute("disabled");if(y==="true"||y==="")return;let w=b.getAttribute("aria-disabled");if(w==="true"||w==="")return;(rn(b)&&(b.type==="file"||b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),d=sn({...r.slot,disabled:s||!1}),p={ref:g,...r.props,id:l,htmlFor:c,onClick:h};return a&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),dn()({ourProps:p,theirProps:u,slot:d,defaultTag:c?Vn:"div",name:r.name||"Label"})}let jn=un(_n),Rr=Object.assign(jn,{});function tt(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Cr(e,t,n=!1){let[o,r]=f.useState(()=>tt(t));return ee(()=>{if(!t||!e)return;let i=Et();return i.requestAnimationFrame(function s(){i.requestAnimationFrame(s),r(l=>{let c=tt(t);return c.width===l.width&&c.height===l.height?l:c})}),()=>{i.dispose()}},[t,e]),n?{width:`${o.width}px`,height:`${o.height}px`}:o}var It=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(It||{});function Tr(e){let t=f.useRef(null),n=K(r=>{t.current=r.pointerType,!et(r.currentTarget)&&r.pointerType==="mouse"&&r.button===It.Left&&(r.preventDefault(),e(r))}),o=K(r=>{t.current!=="mouse"&&(et(r.currentTarget)||e(r))});return{onPointerDown:n,onClick:o}}var Gn=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Gn||{});const Sr={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Yn=200,nt=5;function Fr(e,{trigger:t,action:n,close:o,select:r}){let i=f.useRef(null),s=f.useRef(null),l=f.useRef(null);Qe(e&&t!==null,"pointerdown",c=>{ln(c?.target)&&t!=null&&t.contains(c.target)&&(s.current=c.x,l.current=c.y,i.current=c.timeStamp)}),Qe(e&&t!==null,"pointerup",c=>{var a,u;let g=i.current;if(g===null||(i.current=null,!cn(c.target))||Math.abs(c.x-((a=s.current)!=null?a:c.x))<nt&&Math.abs(c.y-((u=l.current)!=null?u:c.y))<nt)return;let h=n(c);switch(h.kind){case 0:return;case 1:{c.timeStamp-g>Yn&&(r(h.target),o());break}case 2:{o();break}}},{capture:!0})}function Lr(e,t){return f.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function ot(e){return[e.screenX,e.screenY]}function Ar(){let e=f.useRef([-1,-1]);return{wasMoved(t){let n=ot(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ot(t)}}}function Mr(e,{container:t,accept:n,walk:o}){let r=f.useRef(n),i=f.useRef(o);f.useEffect(()=>{r.current=n,i.current=o},[n,o]),ee(()=>{if(!t||!e)return;let s=yt(t);if(!s)return;let l=r.current,c=i.current,a=Object.assign(g=>l(g),{acceptNode:l}),u=s.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;u.nextNode();)c(u.currentNode)},[t,e,r,i])}function $e(){return typeof window<"u"}function re(e){return Bt(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function j(e){var t;return(t=(Bt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bt(e){return $e()?e instanceof Node||e instanceof B(e).Node:!1}function D(e){return $e()?e instanceof Element||e instanceof B(e).Element:!1}function _(e){return $e()?e instanceof HTMLElement||e instanceof B(e).HTMLElement:!1}function rt(e){return!$e()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof B(e).ShadowRoot}const Kn=new Set(["inline","contents"]);function fe(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=N(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!Kn.has(r)}const zn=new Set(["table","td","th"]);function Un(e){return zn.has(re(e))}const Xn=[":popover-open",":modal"];function Ee(e){return Xn.some(t=>{try{return e.matches(t)}catch{return!1}})}const qn=["transform","translate","scale","rotate","perspective"],Jn=["transform","translate","scale","rotate","perspective","filter"],Qn=["paint","layout","strict","content"];function Ye(e){const t=Ke(),n=D(e)?N(e):e;return qn.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Jn.some(o=>(n.willChange||"").includes(o))||Qn.some(o=>(n.contain||"").includes(o))}function Zn(e){let t=z(e);for(;_(t)&&!oe(t);){if(Ye(t))return t;if(Ee(t))return null;t=z(t)}return null}function Ke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eo=new Set(["html","body","#document"]);function oe(e){return eo.has(re(e))}function N(e){return B(e).getComputedStyle(e)}function Re(e){return D(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function z(e){if(re(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rt(e)&&e.host||j(e);return rt(t)?t.host:t}function Wt(e){const t=z(e);return oe(t)?e.ownerDocument?e.ownerDocument.body:e.body:_(t)&&fe(t)?t:Wt(t)}function ce(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Wt(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=B(r);if(i){const l=We(s);return t.concat(s,s.visualViewport||[],fe(r)?r:[],l&&n?ce(l):[])}return t.concat(r,ce(r,[],n))}function We(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function to(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const Q=Math.min,P=Math.max,ae=Math.round,pe=Math.floor,V=e=>({x:e,y:e}),no={left:"right",right:"left",bottom:"top",top:"bottom"},oo={start:"end",end:"start"};function it(e,t,n){return P(e,Q(t,n))}function ie(e,t){return typeof e=="function"?e(t):e}function U(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function Nt(e){return e==="x"?"y":"x"}function Vt(e){return e==="y"?"height":"width"}const ro=new Set(["top","bottom"]);function Y(e){return ro.has(U(e))?"y":"x"}function _t(e){return Nt(Y(e))}function io(e,t,n){n===void 0&&(n=!1);const o=de(e),r=_t(e),i=Vt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=be(s)),[s,be(s)]}function so(e){const t=be(e);return[Ne(e),t,Ne(t)]}function Ne(e){return e.replace(/start|end/g,t=>oo[t])}const st=["left","right"],lt=["right","left"],lo=["top","bottom"],co=["bottom","top"];function ao(e,t,n){switch(e){case"top":case"bottom":return n?t?lt:st:t?st:lt;case"left":case"right":return t?lo:co;default:return[]}}function uo(e,t,n,o){const r=de(e);let i=ao(U(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Ne)))),i}function be(e){return e.replace(/left|right|bottom|top/g,t=>no[t])}function fo(e){return{top:0,right:0,bottom:0,left:0,...e}}function go(e){return typeof e!="number"?fo(e):{top:e,right:e,bottom:e,left:e}}function we(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function ct(e,t,n){let{reference:o,floating:r}=e;const i=Y(t),s=_t(t),l=Vt(s),c=U(t),a=i==="y",u=o.x+o.width/2-r.width/2,g=o.y+o.height/2-r.height/2,h=o[l]/2-r[l]/2;let d;switch(c){case"top":d={x:u,y:o.y-r.height};break;case"bottom":d={x:u,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:g};break;case"left":d={x:o.x-r.width,y:g};break;default:d={x:o.x,y:o.y}}switch(de(t)){case"start":d[s]-=h*(n&&a?-1:1);break;case"end":d[s]+=h*(n&&a?-1:1);break}return d}const po=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:g}=ct(a,o,c),h=o,d={},p=0;for(let m=0;m<l.length;m++){const{name:v,fn:b}=l[m],{x:y,y:w,data:x,reset:$}=await b({x:u,y:g,initialPlacement:o,placement:h,strategy:r,middlewareData:d,rects:a,platform:s,elements:{reference:e,floating:t}});u=y??u,g=w??g,d={...d,[v]:{...d[v],...x}},$&&p<=50&&(p++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(a=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):$.rects),{x:u,y:g}=ct(a,h,c)),m=-1)}return{x:u,y:g,placement:h,strategy:r,middlewareData:d}};async function Ce(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:g="floating",altBoundary:h=!1,padding:d=0}=ie(t,e),p=go(d),v=l[h?g==="floating"?"reference":"floating":g],b=we(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:u,strategy:c})),y=g==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},$=we(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-$.top+p.top)/x.y,bottom:($.bottom-b.bottom+p.bottom)/x.y,left:(b.left-$.left+p.left)/x.x,right:($.right-b.right+p.right)/x.x}}const mo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:a}=t,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=ie(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=U(r),y=Y(l),w=U(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(a.floating)),$=h||(w||!m?[be(l)]:so(l)),R=p!=="none";!h&&R&&$.push(...uo(l,m,p,x));const C=[l,...$],O=await Ce(t,v),W=[];let F=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&W.push(O[b]),g){const L=io(r,s,x);W.push(O[L[0]],O[L[1]])}if(F=[...F,{placement:r,overflows:W}],!W.every(L=>L<=0)){var S,H;const L=(((S=i.flip)==null?void 0:S.index)||0)+1,G=C[L];if(G&&(!(g==="alignment"?y!==Y(G):!1)||F.every(E=>Y(E.placement)===y?E.overflows[0]>0:!0)))return{data:{index:L,overflows:F},reset:{placement:G}};let A=(H=F.filter(I=>I.overflows[0]<=0).sort((I,E)=>I.overflows[1]-E.overflows[1])[0])==null?void 0:H.placement;if(!A)switch(d){case"bestFit":{var M;const I=(M=F.filter(E=>{if(R){const T=Y(E.placement);return T===y||T==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(T=>T>0).reduce((T,k)=>T+k,0)]).sort((E,T)=>E[1]-T[1])[0])==null?void 0:M[0];I&&(A=I);break}case"initialPlacement":A=l;break}if(r!==A)return{reset:{placement:A}}}return{}}}},ho=new Set(["left","top"]);async function vo(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=U(n),l=de(n),c=Y(n)==="y",a=ho.has(s)?-1:1,u=i&&c?-1:1,g=ie(t,e);let{mainAxis:h,crossAxis:d,alignmentAxis:p}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof p=="number"&&(d=l==="end"?p*-1:p),c?{x:d*u,y:h*a}:{x:h*a,y:d*u}}const bo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,c=await vo(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},wo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=ie(e,t),a={x:n,y:o},u=await Ce(t,c),g=Y(U(r)),h=Nt(g);let d=a[h],p=a[g];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=d+u[v],w=d-u[b];d=it(y,d,w)}if(s){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",y=p+u[v],w=p-u[b];p=it(y,p,w)}const m=l.fn({...t,[h]:d,[g]:p});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[h]:i,[g]:s}}}}}},yo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...a}=ie(e,t),u=await Ce(t,a),g=U(r),h=de(r),d=Y(r)==="y",{width:p,height:m}=i.floating;let v,b;g==="top"||g==="bottom"?(v=g,b=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=g,v=h==="end"?"top":"bottom");const y=m-u.top-u.bottom,w=p-u.left-u.right,x=Q(m-u[v],y),$=Q(p-u[b],w),R=!t.middlewareData.shift;let C=x,O=$;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=w),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(C=y),R&&!h){const F=P(u.left,0),S=P(u.right,0),H=P(u.top,0),M=P(u.bottom,0);d?O=p-2*(F!==0||S!==0?F+S:P(u.left,u.right)):C=m-2*(H!==0||M!==0?H+M:P(u.top,u.bottom))}await c({...t,availableWidth:O,availableHeight:C});const W=await s.getDimensions(l.floating);return p!==W.width||m!==W.height?{reset:{rects:!0}}:{}}}};function jt(e){const t=N(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=_(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=ae(n)!==i||ae(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function ze(e){return D(e)?e:e.contextElement}function ne(e){const t=ze(e);if(!_(t))return V(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=jt(t);let s=(i?ae(n.width):n.width)/o,l=(i?ae(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const xo=V(0);function Gt(e){const t=B(e);return!Ke()||!t.visualViewport?xo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $o(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==B(e)?!1:t}function Z(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=ze(e);let s=V(1);t&&(o?D(o)&&(s=ne(o)):s=ne(e));const l=$o(i,n,o)?Gt(i):V(0);let c=(r.left+l.x)/s.x,a=(r.top+l.y)/s.y,u=r.width/s.x,g=r.height/s.y;if(i){const h=B(i),d=o&&D(o)?B(o):o;let p=h,m=We(p);for(;m&&o&&d!==p;){const v=ne(m),b=m.getBoundingClientRect(),y=N(m),w=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,x=b.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,a*=v.y,u*=v.x,g*=v.y,c+=w,a+=x,p=B(m),m=We(p)}}return we({width:u,height:g,x:c,y:a})}function Te(e,t){const n=Re(e).scrollLeft;return t?t.left+n:Z(j(e)).left+n}function Yt(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-Te(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function Eo(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=j(o),l=t?Ee(t.floating):!1;if(o===s||l&&i)return n;let c={scrollLeft:0,scrollTop:0},a=V(1);const u=V(0),g=_(o);if((g||!g&&!i)&&((re(o)!=="body"||fe(s))&&(c=Re(o)),_(o))){const d=Z(o);a=ne(o),u.x=d.x+o.clientLeft,u.y=d.y+o.clientTop}const h=s&&!g&&!i?Yt(s,c):V(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+u.x+h.x,y:n.y*a.y-c.scrollTop*a.y+u.y+h.y}}function Ro(e){return Array.from(e.getClientRects())}function Co(e){const t=j(e),n=Re(e),o=e.ownerDocument.body,r=P(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=P(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Te(e);const l=-n.scrollTop;return N(o).direction==="rtl"&&(s+=P(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}const at=25;function To(e,t){const n=B(e),o=j(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,c=0;if(r){i=r.width,s=r.height;const u=Ke();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const a=Te(o);if(a<=0){const u=o.ownerDocument,g=u.body,h=getComputedStyle(g),d=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(o.clientWidth-g.clientWidth-d);p<=at&&(i-=p)}else a<=at&&(i+=a);return{width:i,height:s,x:l,y:c}}const So=new Set(["absolute","fixed"]);function Fo(e,t){const n=Z(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=_(e)?ne(e):V(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,a=o*i.y;return{width:s,height:l,x:c,y:a}}function ut(e,t,n){let o;if(t==="viewport")o=To(e,n);else if(t==="document")o=Co(j(e));else if(D(t))o=Fo(t,n);else{const r=Gt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return we(o)}function Kt(e,t){const n=z(e);return n===t||!D(n)||oe(n)?!1:N(n).position==="fixed"||Kt(n,t)}function Lo(e,t){const n=t.get(e);if(n)return n;let o=ce(e,[],!1).filter(l=>D(l)&&re(l)!=="body"),r=null;const i=N(e).position==="fixed";let s=i?z(e):e;for(;D(s)&&!oe(s);){const l=N(s),c=Ye(s);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&So.has(r.position)||fe(s)&&!c&&Kt(e,s))?o=o.filter(u=>u!==s):r=l,s=z(s)}return t.set(e,o),o}function Ao(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?Ee(t)?[]:Lo(t,this._c):[].concat(n),o],l=s[0],c=s.reduce((a,u)=>{const g=ut(t,u,r);return a.top=P(g.top,a.top),a.right=Q(g.right,a.right),a.bottom=Q(g.bottom,a.bottom),a.left=P(g.left,a.left),a},ut(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Mo(e){const{width:t,height:n}=jt(e);return{width:t,height:n}}function Po(e,t,n){const o=_(t),r=j(t),i=n==="fixed",s=Z(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=V(0);function a(){c.x=Te(r)}if(o||!o&&!i)if((re(t)!=="body"||fe(r))&&(l=Re(t)),o){const d=Z(t,!0,i,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else r&&a();i&&!o&&r&&a();const u=r&&!o&&!i?Yt(r,l):V(0),g=s.left+l.scrollLeft-c.x-u.x,h=s.top+l.scrollTop-c.y-u.y;return{x:g,y:h,width:s.width,height:s.height}}function Le(e){return N(e).position==="static"}function ft(e,t){if(!_(e)||N(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return j(e)===n&&(n=n.ownerDocument.body),n}function zt(e,t){const n=B(e);if(Ee(e))return n;if(!_(e)){let r=z(e);for(;r&&!oe(r);){if(D(r)&&!Le(r))return r;r=z(r)}return n}let o=ft(e,t);for(;o&&Un(o)&&Le(o);)o=ft(o,t);return o&&oe(o)&&Le(o)&&!Ye(o)?n:o||Zn(e)||n}const Oo=async function(e){const t=this.getOffsetParent||zt,n=this.getDimensions,o=await n(e.floating);return{reference:Po(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function ko(e){return N(e).direction==="rtl"}const Do={convertOffsetParentRelativeRectToViewportRelativeRect:Eo,getDocumentElement:j,getClippingRect:Ao,getOffsetParent:zt,getElementRects:Oo,getClientRects:Ro,getDimensions:Mo,getScale:ne,isElement:D,isRTL:ko};function Ut(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ho(e,t){let n=null,o;const r=j(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const a=e.getBoundingClientRect(),{left:u,top:g,width:h,height:d}=a;if(l||t(),!h||!d)return;const p=pe(g),m=pe(r.clientWidth-(u+h)),v=pe(r.clientHeight-(g+d)),b=pe(u),w={rootMargin:-p+"px "+-m+"px "+-v+"px "+-b+"px",threshold:P(0,Q(1,c))||1};let x=!0;function $(R){const C=R[0].intersectionRatio;if(C!==c){if(!x)return s();C?s(!1,C):o=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!Ut(a,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver($,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver($,w)}n.observe(e)}return s(!0),i}function Io(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=ze(e),u=r||i?[...a?ce(a):[],...ce(t)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const g=a&&l?Ho(a,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(b=>{let[y]=b;y&&y.target===a&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),a&&!c&&d.observe(a),d.observe(t));let p,m=c?Z(e):null;c&&v();function v(){const b=Z(e);m&&!Ut(m,b)&&n(),m=b,p=requestAnimationFrame(v)}return n(),()=>{var b;u.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),g?.(),(b=d)==null||b.disconnect(),d=null,c&&cancelAnimationFrame(p)}}const Ae=Ce,Bo=bo,Wo=wo,No=mo,Vo=yo,_o=(e,t,n)=>{const o=new Map,r={platform:Do,...n},i={...r.platform,_c:o};return po(e,t,{...r,platform:i})};var jo=typeof document<"u",Go=function(){},me=jo?f.useLayoutEffect:Go;function ye(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!ye(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!ye(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Xt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dt(e,t){const n=Xt(e);return Math.round(t*n)/n}function Me(e){const t=f.useRef(e);return me(()=>{t.current=e}),t}function Yo(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:a}=e,[u,g]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,d]=f.useState(o);ye(h,o)||d(o);const[p,m]=f.useState(null),[v,b]=f.useState(null),y=f.useCallback(E=>{E!==R.current&&(R.current=E,m(E))},[]),w=f.useCallback(E=>{E!==C.current&&(C.current=E,b(E))},[]),x=i||p,$=s||v,R=f.useRef(null),C=f.useRef(null),O=f.useRef(u),W=c!=null,F=Me(c),S=Me(r),H=Me(a),M=f.useCallback(()=>{if(!R.current||!C.current)return;const E={placement:t,strategy:n,middleware:h};S.current&&(E.platform=S.current),_o(R.current,C.current,E).then(T=>{const k={...T,isPositioned:H.current!==!1};L.current&&!ye(O.current,k)&&(O.current=k,he.flushSync(()=>{g(k)}))})},[h,t,n,S,H]);me(()=>{a===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(E=>({...E,isPositioned:!1})))},[a]);const L=f.useRef(!1);me(()=>(L.current=!0,()=>{L.current=!1}),[]),me(()=>{if(x&&(R.current=x),$&&(C.current=$),x&&$){if(F.current)return F.current(x,$,M);M()}},[x,$,M,F,W]);const G=f.useMemo(()=>({reference:R,floating:C,setReference:y,setFloating:w}),[y,w]),A=f.useMemo(()=>({reference:x,floating:$}),[x,$]),I=f.useMemo(()=>{const E={position:n,left:0,top:0};if(!A.floating)return E;const T=dt(A.floating,u.x),k=dt(A.floating,u.y);return l?{...E,transform:"translate("+T+"px, "+k+"px)",...Xt(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:k}},[n,l,A.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:M,refs:G,elements:A,floatingStyles:I}),[u,M,G,A,I])}const qt=(e,t)=>({...Bo(e),options:[e,t]}),Ko=(e,t)=>({...Wo(e),options:[e,t]}),zo=(e,t)=>({...No(e),options:[e,t]}),Uo=(e,t)=>({...Vo(e),options:[e,t]}),Jt={...en},Xo=Jt.useInsertionEffect,qo=Xo||(e=>e());function Qt(e){const t=f.useRef(()=>{});return qo(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Ve=typeof document<"u"?f.useLayoutEffect:f.useEffect;let gt=!1,Jo=0;const pt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Jo++;function Qo(){const[e,t]=f.useState(()=>gt?pt():void 0);return Ve(()=>{e==null&&t(pt())},[]),f.useEffect(()=>{gt=!0},[]),e}const Zo=Jt.useId,er=Zo||Qo;function tr(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const nr=f.createContext(null),or=f.createContext(null),rr=()=>{var e;return((e=f.useContext(nr))==null?void 0:e.id)||null},ir=()=>f.useContext(or),sr="data-floating-ui-focusable";function lr(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=er(),i=f.useRef({}),[s]=f.useState(()=>tr()),l=rr()!=null,[c,a]=f.useState(o.reference),u=Qt((d,p,m)=>{i.current.openEvent=d?p:void 0,s.emit("openchange",{open:d,event:p,reason:m,nested:l}),n?.(d,p,m)}),g=f.useMemo(()=>({setPositionReference:a}),[]),h=f.useMemo(()=>({reference:c||o.reference||null,floating:o.floating||null,domReference:o.reference}),[c,o.reference,o.floating]);return f.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:h,events:s,floatingId:r,refs:g}),[t,u,h,s,r,g])}function cr(e){e===void 0&&(e={});const{nodeId:t}=e,n=lr({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,s]=f.useState(null),[l,c]=f.useState(null),u=r?.domReference||i,g=f.useRef(null),h=ir();Ve(()=>{u&&(g.current=u)},[u]);const d=Yo({...e,elements:{...r,...l&&{reference:l}}}),p=f.useCallback(w=>{const x=D(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(x),d.refs.setReference(x)},[d.refs]),m=f.useCallback(w=>{(D(w)||w===null)&&(g.current=w,s(w)),(D(d.refs.reference.current)||d.refs.reference.current===null||w!==null&&!D(w))&&d.refs.setReference(w)},[d.refs]),v=f.useMemo(()=>({...d.refs,setReference:m,setPositionReference:p,domReference:g}),[d.refs,m,p]),b=f.useMemo(()=>({...d.elements,domReference:u}),[d.elements,u]),y=f.useMemo(()=>({...d,...o,refs:v,elements:b,nodeId:t}),[d,v,b,t,o]);return Ve(()=>{o.dataRef.current.floatingContext=y;const w=h?.nodesRef.current.find(x=>x.id===t);w&&(w.context=y)}),f.useMemo(()=>({...d,context:y,refs:v,elements:b}),[d,v,b,y])}const mt="active",ht="selected";function Pe(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[mt]:s,[ht]:l,...c}=e;i=c}return{...n==="floating"&&{tabIndex:-1,[sr]:""},...i,...t.map(s=>{const l=s?s[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(c=>{let[a,u]=c;if(!(r&&[mt,ht].includes(a)))if(a.indexOf("on")===0){if(o.has(a)||o.set(a,[]),typeof u=="function"){var g;(g=o.get(a))==null||g.push(u),s[a]=function(){for(var h,d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return(h=o.get(a))==null?void 0:h.map(v=>v(...p)).find(v=>v!==void 0)}}}else s[a]=u}),s),{})}}function ar(e){e===void 0&&(e=[]);const t=e.map(l=>l?.reference),n=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=f.useCallback(l=>Pe(l,e,"reference"),t),i=f.useCallback(l=>Pe(l,e,"floating"),n),s=f.useCallback(l=>Pe(l,e,"item"),o);return f.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function vt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const ur=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:a,...u}=ie(e,t),{rects:g,elements:{floating:h}}=t,d=n.current[s],p=a?.current||h,m=h.clientTop||p.clientTop,v=h.clientTop!==0,b=p.clientTop!==0,y=h===p;if(!d)return{};const w={...t,...await qt(-d.offsetTop-h.clientTop-g.reference.height/2-d.offsetHeight/2-i).fn(t)},x=await Ae(vt(w,p.scrollHeight+m+h.clientTop),u),$=await Ae(w,{...u,elementContext:"reference"}),R=P(0,x.top),C=w.y+R,F=(p.scrollHeight>p.clientHeight?S=>S:ae)(P(0,p.scrollHeight+(v&&y||b?m*2:0)-R-P(0,x.bottom)));if(p.style.maxHeight=F+"px",p.scrollTop=R,r){const S=p.offsetHeight<d.offsetHeight*Q(l,n.current.length)-1||$.top>=-c||$.bottom>=-c;he.flushSync(()=>r(S))}return o&&(o.current=await Ae(vt({...w,y:C},p.offsetHeight+m+h.clientTop),u)),{y:C}}});function fr(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=t,c=Qt(l),a=f.useRef(!1),u=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{if(!r)return;function d(m){if(m.ctrlKey||!p||i.current==null)return;const v=m.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,w=p.scrollHeight-p.clientHeight,x=v<0?-1:1,$=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!b&&v>0||!y&&v<0?(m.preventDefault(),he.flushSync(()=>{c(R=>R+Math[$](v,w*x))})):/firefox/i.test(to())&&(p.scrollTop+=v))}const p=s?.current||o.floating;if(n&&p)return p.addEventListener("wheel",d),requestAnimationFrame(()=>{u.current=p.scrollTop,i.current!=null&&(g.current={...i.current})}),()=>{u.current=null,g.current=null,p.removeEventListener("wheel",d)}},[r,n,o.floating,i,s,c]);const h=f.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const d=s?.current||o.floating;if(!(!i.current||!d||!a.current)){if(u.current!==null){const p=d.scrollTop-u.current;(i.current.bottom<-.5&&p<-1||i.current.top<-.5&&p>1)&&he.flushSync(()=>c(m=>m+p))}requestAnimationFrame(()=>{u.current=d.scrollTop})}}}),[o.floating,c,i,s]);return f.useMemo(()=>r?{floating:h}:{},[r,h])}let se=f.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});se.displayName="FloatingContext";let Ue=f.createContext(null);Ue.displayName="PlacementContext";function Pr(e){return f.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Or(){return f.useContext(se).setReference}function kr(){return f.useContext(se).getReferenceProps}function Dr(){let{getFloatingProps:e,slot:t}=f.useContext(se);return f.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Hr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=f.useContext(Ue),n=f.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i?.outerHTML)!=null?s:i})]);ee(()=>{t?.(n??null)},[t,n]);let o=f.useContext(se);return f.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let bt=4;function Ir({children:e,enabled:t=!0}){let[n,o]=f.useState(null),[r,i]=f.useState(0),s=f.useRef(null),[l,c]=f.useState(null);dr(l);let a=t&&n!==null&&l!==null,{to:u="bottom",gap:g=0,offset:h=0,padding:d=0,inner:p}=gr(n,l),[m,v="center"]=u.split(" ");ee(()=>{a&&i(0)},[a]);let{refs:b,floatingStyles:y,context:w}=cr({open:a,placement:m==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${m}`:`${m}-${v}`,strategy:"absolute",transform:!1,middleware:[qt({mainAxis:m==="selection"?0:g,crossAxis:h}),Ko({padding:d}),m!=="selection"&&zo({padding:d}),m==="selection"&&p?ur({...p,padding:d,overflowRef:s,offset:r,minItemsVisible:bt,referenceOverflowThreshold:d,onFallbackChange(S){var H,M;if(!S)return;let L=w.elements.floating;if(!L)return;let G=parseFloat(getComputedStyle(L).scrollPaddingBottom)||0,A=Math.min(bt,L.childElementCount),I=0,E=0;for(let T of(M=(H=w.elements.floating)==null?void 0:H.childNodes)!=null?M:[])if(an(T)){let k=T.offsetTop,Xe=k+T.clientHeight+G,Se=L.scrollTop,qe=Se+L.clientHeight;if(k>=Se&&Xe<=qe)A--;else{E=Math.max(0,Math.min(Xe,qe)-Math.max(k,Se)),I=T.clientHeight;break}}A>=1&&i(T=>{let k=I*A-E+G;return T>=k?T:k})}}):null,Uo({padding:d,apply({availableWidth:S,availableHeight:H,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${S}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:Io}),[x=m,$=v]=w.placement.split("-");m==="selection"&&(x="selection");let R=f.useMemo(()=>({anchor:[x,$].filter(Boolean).join(" ")}),[x,$]),C=fr(w,{overflowRef:s,onChange:i}),{getReferenceProps:O,getFloatingProps:W}=ar([C]),F=K(S=>{c(S),b.setFloating(S)});return f.createElement(Ue.Provider,{value:o},f.createElement(se.Provider,{value:{setFloating:F,setReference:b.setReference,styles:y,getReferenceProps:O,getFloatingProps:W,slot:R}},e))}function dr(e){ee(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function gr(e,t){var n,o,r;let i=Oe((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Oe((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",t),l=Oe((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:l}}function Oe(e,t,n=void 0){let o=$t(),r=K((c,a)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!a)return[n,null];let u=wt(c,a);return[u,g=>{let h=Zt(c);{let d=h.map(p=>window.getComputedStyle(a).getPropertyValue(p));o.requestAnimationFrame(function p(){o.nextFrame(p);let m=!1;for(let[b,y]of h.entries()){let w=window.getComputedStyle(a).getPropertyValue(y);if(d[b]!==w){d[b]=w,m=!0;break}}if(!m)return;let v=wt(c,a);u!==v&&(g(v),u=v)})}return o.dispose}]}return[n,null]}),i=f.useMemo(()=>r(e,t)[0],[e,t]),[s=i,l]=f.useState();return ee(()=>{let[c,a]=r(e,t);if(l(c),!!a)return a(l)},[e,t]),s}function Zt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...Zt(r)]:[o]}return[]}function wt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function pr(e){throw new Error("Unexpected object: "+e)}var mr=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(mr||{});function Br(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 1:{r===-1&&(r=n.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 2:{for(let i=r+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return o}case 5:return null;default:pr(e)}}const Wr={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function hr(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function Nr(e,t,n){let o=Et();if(t.kind==="Tracked"){let r=function(){i!==hr(e)&&(o.dispose(),n())},{position:i}=t,s=new ResizeObserver(r);s.observe(e),o.add(()=>s.disconnect()),o.addEventListener(window,"scroll",r,{passive:!0}),o.addEventListener(window,"resize",r)}return()=>o.dispose()}export{xr as $,Ir as A,Ht as C,Mr as F,Fr as L,Nn as N,Hr as R,Sr as S,Dr as T,Er as V,Rr as Z,Wr as a,hr as b,mr as c,yr as d,$r as e,Br as f,It as g,Lr as h,Bn as i,Or as j,kr as k,Nr as p,Tr as s,Ar as u,Cr as w,Pr as y};
