import{u as j,j as e}from"./app-BEzgBsru.js";import{u as h}from"./useFormPersistence-Djs7pnrG.js";import{I as i}from"./InputLabel-CVkNsTwS.js";import{T as d,I as c}from"./InputError-Cu7uKXG8.js";import{P as v}from"./PrimaryButton-Zk9yV2ck.js";import{S as b}from"./SecondaryButton-Co-XfxiG.js";function k({genre:s,onClose:a,onSuccess:l}){const{data:r,setData:m,post:p,put:x,processing:o,errors:u}=j({name:s?.name||"",slug:s?.slug||""}),f=s?.id?`genre_form_update_${s.id}`:"genre_form_create",{clearStorage:n}=h(f,r,m),g=t=>{t.preventDefault(),s?x(route("admin.genres.update",s.id),{onSuccess:()=>{n(),l(),a()}}):p(route("admin.genres.store"),{onSuccess:()=>{n(),l(),a()}})};return e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Name"}),e.jsx(d,{id:"name",type:"text",className:"mt-1 block w-full",value:r.name,onChange:t=>m("name",t.target.value),required:!0}),e.jsx(c,{message:u.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",value:"Slug"}),e.jsx(d,{id:"slug",type:"text",className:"mt-1 block w-full",value:r.slug,onChange:t=>m("slug",t.target.value),required:!0}),e.jsx(c,{message:u.slug,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 border-t pt-4",children:[e.jsx(b,{onClick:a,disabled:o,children:"Cancel"}),e.jsx(v,{disabled:o,children:s?"Update Genre":"Create Genre"})]})]})}export{k as default};
