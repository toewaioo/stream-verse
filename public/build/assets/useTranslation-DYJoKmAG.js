import{r as d,e as $,g as D,f as X}from"./app-B6avVaRr.js";const Y=(e,t,r,f)=>{const l=[r,{code:t,...f||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);y(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...l):console?.warn&&console.warn(...l)},P={},A=(e,t,r,f)=>{y(r)&&P[r]||(y(r)&&(P[r]=new Date),Y(e,t,r,f))},F=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},T=(e,t,r)=>{e.loadNamespaces(t,F(e,r))},U=(e,t,r,f)=>{if(y(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return T(e,r,f);r.forEach(l=>{e.options.ns.indexOf(l)<0&&e.options.ns.push(l)}),e.loadLanguages(t,F(e,f))},B=(e,t,r={})=>!t.languages||!t.languages.length?(A(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(f,l)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!l(f.isLanguageChangingTo,e))return!1}}),y=e=>typeof e=="string",H=e=>typeof e=="object"&&e!==null,J=d.createContext();class K{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var L={exports:{}},I={};var z;function Q(){if(z)return I;z=1;var e=$();function t(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var r=typeof Object.is=="function"?Object.is:t,f=e.useState,l=e.useEffect,n=e.useLayoutEffect,S=e.useDebugValue;function b(a,u){var p=u(),m=f({inst:{value:p,getSnapshot:u}}),g=m[0].inst,x=m[1];return n(function(){g.value=p,g.getSnapshot=u,h(g)&&x({inst:g})},[a,p,u]),l(function(){return h(g)&&x({inst:g}),a(function(){h(g)&&x({inst:g})})},[a]),S(p),p}function h(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!r(a,p)}catch{return!0}}function v(a,u){return u()}var C=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:b;return I.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:C,I}var q;function V(){return q||(q=1,L.exports=Q()),L.exports}var Z=V();const ee=(e,t)=>y(t)?t:H(t)&&y(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,te={t:ee,ready:!1},ne=()=>()=>{},ae=(e,t={})=>{const{i18n:r}=t,{i18n:f,defaultNS:l}=d.useContext(J)||{},n=r||f||D();n&&!n.reportNamespaces&&(n.reportNamespaces=new K),n||A(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=d.useMemo(()=>({...X(),...n?.options?.react,...t}),[n,t]),{useSuspense:b,keyPrefix:h}=S,v=l||n?.options?.defaultNS,C=y(v)?[v]:v||["translation"],a=d.useMemo(()=>C,C);n?.reportNamespaces?.addUsedNamespaces?.(a);const u=d.useRef(0),p=d.useCallback(o=>{if(!n)return ne;const{bindI18n:s,bindI18nStore:c}=S,i=()=>{u.current+=1,o()};return s&&n.on(s,i),c&&n.store.on(c,i),()=>{s&&s.split(" ").forEach(R=>n.off(R,i)),c&&c.split(" ").forEach(R=>n.store.off(R,i))}},[n,S]),m=d.useRef(),g=d.useCallback(()=>{if(!n)return te;const o=!!(n.isInitialized||n.initializedStoreOnce)&&a.every(W=>B(W,n,S)),s=t.lng||n.language,c=u.current,i=m.current;if(i&&i.ready===o&&i.lng===s&&i.keyPrefix===h&&i.revision===c)return i;const k={t:n.getFixedT(s,S.nsMode==="fallback"?a:a[0],h),ready:o,lng:s,keyPrefix:h,revision:c};return m.current=k,k},[n,a,h,S,t.lng]),[x,M]=d.useState(0),{t:_,ready:w}=Z.useSyncExternalStore(p,g,g);d.useEffect(()=>{if(n&&!w&&!b){const o=()=>M(s=>s+1);t.lng?U(n,t.lng,a,o):T(n,a,o)}},[n,t.lng,a,w,b,x]);const N=n||{},E=d.useRef(null),O=d.useRef(),j=o=>{const s=Object.getOwnPropertyDescriptors(o);s.__original&&delete s.__original;const c=Object.create(Object.getPrototypeOf(o),s);if(!Object.prototype.hasOwnProperty.call(c,"__original"))try{Object.defineProperty(c,"__original",{value:o,writable:!1,enumerable:!1,configurable:!1})}catch{}return c},G=d.useMemo(()=>{const o=N,s=o?.language;let c=o;o&&(E.current&&E.current.__original===o?O.current!==s?(c=j(o),E.current=c,O.current=s):c=E.current:(c=j(o),E.current=c,O.current=s));const i=[_,c,w];return i.t=_,i.i18n=c,i.ready=w,i},[_,N,w,N.resolvedLanguage,N.language,N.languages]);if(n&&b&&!w)throw new Promise(o=>{const s=()=>o();t.lng?U(n,t.lng,a,s):T(n,a,s)});return G};export{ae as u};
