import{u as y,r as t,j as e,H as f,b as j}from"./app-BlUwQSBN.js";import{A as w,d as c}from"./AdminLayout-BbmbhoEZ.js";import{M as N}from"./Modal-Das-L1Hn.js";import{P as b}from"./PrimaryButton-ChSft8n4.js";import{T as v}from"./TextInput-DQGmZ1zW.js";import k from"./PersonForm-CRIOdplH.js";import{F as P,a as C,b as M,c as F}from"./TrashIcon-CCJlScnE.js";import"./ApplicationLogo-BaD4I2Wi.js";import"./Dropdown-BlQnGLMy.js";import"./transition-BrDJP_ID.js";import"./portal-CYWgWCQN.js";import"./with-selector-CAy8_NaN.js";import"./useFormPersistence-Bck2eF1g.js";import"./InputLabel-o-HfUSd6.js";import"./InputError-7QvtulN0.js";import"./SecondaryButton-D98HeL4M.js";function z({persons:a}){const{auth:x}=y().props,[m,l]=t.useState(!1),[d,i]=t.useState(null),[s,h]=t.useState(""),g=()=>{i(null),l(!0)},p=r=>{i(r),l(!0)},o=()=>{l(!1),i(null)},u=r=>{confirm("Are you sure you want to delete this person?")&&j.delete(route("admin.persons.destroy",r))},n=t.useMemo(()=>s?a.filter(r=>r.name.toLowerCase().includes(s.toLowerCase())):a,[a,s]);return e.jsxs(w,{children:[e.jsx(f,{title:"Manage Persons"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Persons"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage actors, directors, and other crew members."})]}),e.jsxs(b,{onClick:g,className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Add Person"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700/50 flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(v,{type:"text",placeholder:"Search persons...",className:"w-full pl-10",value:s,onChange:r=>h(r.target.value)})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700/50 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Bio"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.length>0?n.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden shadow-sm",children:r.avatar_url?e.jsx("img",{className:"h-full w-full object-cover",src:r.avatar_url,alt:""}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:e.jsx(c,{className:"w-6 h-6"})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.name})})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:r.biography||"No biography available"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>p(r),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg dark:text-indigo-400 dark:hover:bg-indigo-900/20 transition-colors",title:"Edit",children:e.jsx(M,{className:"w-5 h-5"})}),x.user.role==="admin"&&e.jsx("button",{onClick:()=>u(r.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg dark:text-red-400 dark:hover:bg-red-900/20 transition-colors",title:"Delete",children:e.jsx(F,{className:"w-5 h-5"})})]})})]},r.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx(c,{className:"w-8 h-8 text-gray-300 dark:text-gray-600"}),e.jsx("p",{children:"No persons found"})]})})})})]})})})]}),e.jsx(N,{show:m,onClose:o,maxWidth:"2xl",children:e.jsxs("div",{className:"p-6 dark:bg-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:d?`Edit Person: ${d.name}`:"Create New Person"}),e.jsx(k,{person:d,onClose:o,onSuccess:()=>{}})]})})]})}export{z as default};
