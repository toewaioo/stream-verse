import{r as n,j as e,b,H as f,L as c,u as j}from"./app-B9JngPTK.js";import{C as v}from"./Checkbox-CBDyw79s.js";import{T as d,I as u}from"./InputError-CM0ZToud.js";import{I as x}from"./InputLabel-DKm_Se1e.js";import{P as k}from"./PrimaryButton-BhBNVLia.js";import{G as w}from"./GuestLayout-Bs-2DgVF.js";import{u as y}from"./useTranslation-DeHHFzoQ.js";import"./ApplicationLogo-DJYvct41.js";import"./ThemeSwitcher-DWXTkIqw.js";function N({botName:l,buttonSize:o="large",cornerRadius:t=20,requestAccess:i="write"}){const a=n.useRef(null);return n.useEffect(()=>{if(!l)return;const s=document.createElement("script");s.src="https://telegram.org/js/telegram-widget.js?22",s.setAttribute("data-telegram-login",l),s.setAttribute("data-size",o),s.setAttribute("data-radius",t),s.setAttribute("data-request-access",i),s.setAttribute("data-auth-url",route("auth.telegram.callback")),s.async=!0,a.current&&(a.current.innerHTML="",a.current.appendChild(s))},[l,o,t,i]),e.jsx("div",{ref:a,className:"flex justify-center mt-4"})}function D({status:l,canResetPassword:o}){const{t}=y();n.useEffect(()=>{const r=window.Telegram?.WebApp;if(r)return r.BackButton.show(),r.onEvent("backButtonClicked",()=>{window.history.back()}),()=>{r.BackButton.hide(),r.BackButton.offClick()}},[]);const{data:i,setData:a,post:s,processing:g,errors:m,reset:p}=b({email:"",password:"",remember:!1}),h=r=>{r.preventDefault(),s(route("login"),{onFinish:()=>p("password")})};return e.jsxs(w,{children:[e.jsx(f,{title:t("Log in")}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:t("Welcome Back")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:t("Please sign in to your account")})]}),l&&e.jsx("div",{className:"mb-4 rounded-lg bg-green-500/10 px-4 py-3 text-sm font-medium text-green-600 dark:text-green-400 border border-green-500/20",children:l}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"email",value:t("Email")}),e.jsx(d,{id:"email",type:"email",name:"email",value:i.email,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,placeholder:t("Enter your email"),onChange:r=>a("email",r.target.value)}),e.jsx(u,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"password",value:t("Password")}),e.jsx(d,{id:"password",type:"password",name:"password",value:i.password,className:"mt-1 block w-full",autoComplete:"current-password",placeholder:t("Enter your password"),onChange:r=>a("password",r.target.value)}),e.jsx(u,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx(v,{name:"remember",checked:i.remember,onChange:r=>a("remember",r.target.checked),className:"rounded border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ms-2 text-sm text-gray-600 dark:text-gray-400",children:t("Remember me")})]}),o&&e.jsx(c,{href:route("password.request"),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition-colors",children:t("Forgot password?")})]}),e.jsx("div",{children:e.jsx(k,{disabled:g,children:t("Sign in")})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white dark:bg-[#1f2937] px-2 text-gray-500",children:t("Or continue with")})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(N,{botName:j().props.telegramBotUsername})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:[t("Don't have an account?")," ",e.jsx(c,{href:route("register"),className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 transition-colors",children:t("Sign up")})]})]})]})}export{D as default};
