import{r as h,b as te,R as F,j as e,c as C}from"./app-BABtax3C.js";import{u as le}from"./useFormPersistence-rLR-iBeK.js";import{I as d}from"./InputLabel-BlZqdAxy.js";import{T as n,I as c}from"./InputError-DhO0TAp6.js";import{P as S}from"./PrimaryButton-nyf0l47n.js";import{S as b}from"./SecondaryButton-Dp4lYf8r.js";import{C as y}from"./Checkbox-Be4IMiwd.js";import{P as ie}from"./PersonSelector-CEGMHp7b.js";import{M as de}from"./Modal-CGuDjLLe.js";import"./element-movement-B8fMB2kL.js";import"./portal-CAeVjDFU.js";import"./transition-lJdrOcgg.js";function ye({movie:i,genres:R=[],persons:T=[],onClose:p,onSuccess:j}){const[u,L]=h.useState(1),{data:t,setData:l,post:B,put:E,processing:f,errors:o}=te({title:i?.title||"",slug:i?.slug||"",original_title:i?.original_title||"",description:i?.description||"",release_date:i?.release_date||"",runtime:i?.runtime||"",language:i?.language||"en",country:i?.country||"",status:i?.status||"released",visibility_status:i?.visibility_status||"public",is_vip_only:i?.is_vip_only||!1,poster_url:i?.poster_url||"",banner_url:i?.banner_url||"",trailer_url:i?.trailer_url||"",budget:i?.budget||"",revenue:i?.revenue||"",imdb_id:i?.imdb_id||"",age_rating:i?.age_rating||"",genres:i?.genres?.map(s=>s.id)||[],persons:i?.persons?.map(s=>({person_id:s.person_id,role_type:s.role_type,character_name:s.character_name}))||[],watch_links:i?.watch_links||[],download_links:i?.download_links||[]}),I=i?.id?`movie_form_update_${i.id}`:"movie_form_create",{clearStorage:M}=le(I,t,l),[z,k]=h.useState(!1),[_,A]=h.useState(""),[D,G]=h.useState([]),[N,v]=h.useState(!1),V=async s=>{if(s.preventDefault(),!!_){v(!0);try{const r=await C.post(route("admin.tmdb.search"),{query:_,type:"movie"});G(r.data.results||[])}catch(r){console.error("TMDB Search Error:",r)}finally{v(!1)}}},H=async s=>{v(!0);try{const a=(await C.post(route("admin.tmdb.details"),{tmdb_id:s,type:"movie"})).data;l(m=>({...m,title:a.title,original_title:a.original_title,description:a.description,release_date:a.release_date,runtime:a.runtime,language:a.language,status:a.status==="released"?"released":"upcoming",imdb_id:a.imdb_id,budget:a.budget,revenue:a.revenue,poster_url:a.poster_url,banner_url:a.banner_url,trailer_url:a.trailer_url,age_rating:a.age_rating})),k(!1)}catch(r){console.error("TMDB Details Error:",r)}finally{v(!1)}},[W,P]=h.useState("");F.useEffect(()=>{if(t.title&&!i?.id){const s=t.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");l("slug",s)}},[t.title]),F.useEffect(()=>{const s=async()=>{if(t.slug)try{(await C.get(route("admin.movies.check-slug"),{params:{slug:t.slug,id:i?.id}})).data.exists?P("This slug is already taken."):P("")}catch(a){console.error("Error checking slug:",a)}},r=setTimeout(()=>{s()},500);return()=>clearTimeout(r)},[t.slug,i?.id]);const U=s=>{const r=t.genres;r.includes(s)?l("genres",r.filter(a=>a!==s)):l("genres",[...r,s])},q=()=>{l("persons",[...t.persons,{person_id:"",role_type:"actor",character_name:""}])},K=s=>{const r=[...t.persons];r.splice(s,1),l("persons",r)},w=(s,r,a)=>{const m=[...t.persons];m[s][r]=a,l("persons",m)},O=()=>{l("watch_links",[...t.watch_links,{server_name:"",url:"",embed_code:"",quality:"HD",type:"url",is_vip_only:!1}])},Q=s=>{const r=[...t.watch_links];r.splice(s,1),l("watch_links",r)},g=(s,r,a)=>{const m=[...t.watch_links];m[s][r]=a,l("watch_links",m)},$=()=>{l("download_links",[...t.download_links,{server_name:"",url:"",quality:"HD",file_format:"MKV",file_size:"",is_vip_only:!1}])},J=s=>{const r=[...t.download_links];r.splice(s,1),l("download_links",r)},x=(s,r,a)=>{const m=[...t.download_links];m[s][r]=a,l("download_links",m)},Y=s=>{s.preventDefault(),i&&i.id?E(route("admin.movies.update",i.id),{onSuccess:()=>{M(),j&&j(),p&&p()}}):B(route("admin.movies.store"),{onSuccess:()=>{M(),j&&j(),p&&p()}})},X=()=>L(s=>Math.min(s+1,4)),Z=()=>L(s=>Math.max(s-1,1)),ee=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(d,{htmlFor:"title",value:"Movie Title"}),e.jsx(b,{size:"sm",onClick:()=>k(!0),type:"button",children:"Fetch from TMDB"})]}),e.jsx(n,{id:"title",type:"text",className:"mt-1 block w-full",value:t.title,onChange:s=>l("title",s.target.value),required:!0,placeholder:"e.g. Inception"}),e.jsx(c,{message:o.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"original_title",value:"Original Title"}),e.jsx(n,{id:"original_title",type:"text",className:"mt-1 block w-full",value:t.original_title,onChange:s=>l("original_title",s.target.value),placeholder:"Original language title"}),e.jsx(c,{message:o.original_title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"slug",value:"Slug"}),e.jsx(n,{id:"slug",type:"text",className:"mt-1 block w-full",value:t.slug,onChange:s=>l("slug",s.target.value),placeholder:"e.g. inception"}),e.jsx(c,{message:o.slug||W,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"imdb_id",value:"IMDb ID"}),e.jsx(n,{id:"imdb_id",type:"text",className:"mt-1 block w-full",value:t.imdb_id,onChange:s=>l("imdb_id",s.target.value),placeholder:"tt1375666"}),e.jsx(c,{message:o.imdb_id,className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(d,{htmlFor:"description",value:"Synopsis"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full text-black border-gray-300 dark:border-gray-300 dark:bg-gray-300 dark:text-gray-500 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"4",value:t.description,onChange:s=>l("description",s.target.value),placeholder:"Enter a detailed description of the movie..."}),e.jsx(c,{message:o.description,className:"mt-2"})]})]})]})}),se=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Details & Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"release_date",value:"Release Date"}),e.jsx(n,{id:"release_date",type:"date",className:"mt-1 block w-full",value:t.release_date.split("T")[0],onChange:s=>l("release_date",s.target.value)}),e.jsx(c,{message:o.release_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"runtime",value:"Runtime (minutes)"}),e.jsx(n,{id:"runtime",type:"number",className:"mt-1 block w-full",value:t.runtime,onChange:s=>l("runtime",s.target.value),placeholder:"148"}),e.jsx(c,{message:o.runtime,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"status",value:"Status"}),e.jsxs("select",{id:"status",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:t.status,onChange:s=>l("status",s.target.value),children:[e.jsx("option",{value:"released",children:"Released"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"rumored",children:"Rumored"})]}),e.jsx(c,{message:o.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"visibility_status",value:"Visibility"}),e.jsxs("select",{id:"visibility_status",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:t.visibility_status,onChange:s=>l("visibility_status",s.target.value),children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"hidden",children:"Hidden"})]}),e.jsx(c,{message:o.visibility_status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"age_rating",value:"Age Rating"}),e.jsxs("select",{id:"age_rating",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:t.age_rating,onChange:s=>l("age_rating",s.target.value),children:[e.jsx("option",{value:"G",children:"Select Rating"}),e.jsx("option",{value:"G",children:"G"}),e.jsx("option",{value:"PG",children:"PG"}),e.jsx("option",{value:"PG-13",children:"PG-13"}),e.jsx("option",{value:"R",children:"R - Restricted"}),e.jsx("option",{value:"18+",children:"18+"})]}),e.jsx(c,{message:o.age_rating,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"language",value:"Language"}),e.jsx(n,{id:"language",type:"text",className:"mt-1 block w-full",value:t.language,onChange:s=>l("language",s.target.value),placeholder:"en"}),e.jsx(c,{message:o.language,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"country",value:"Country"}),e.jsx(n,{id:"country",type:"text",className:"mt-1 block w-full",value:t.country,onChange:s=>l("country",s.target.value),placeholder:"USA"}),e.jsx(c,{message:o.country,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"budget",value:"Budget"}),e.jsx(n,{id:"budget",type:"number",className:"mt-1 block w-full",value:t.budget,onChange:s=>l("budget",s.target.value),placeholder:"160000000"}),e.jsx(c,{message:o.budget,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"revenue",value:"Revenue"}),e.jsx(n,{id:"revenue",type:"number",className:"mt-1 block w-full",value:t.revenue,onChange:s=>l("revenue",s.target.value),placeholder:"836800000"}),e.jsx(c,{message:o.revenue,className:"mt-2"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",children:[e.jsx(y,{name:"is_vip_only",checked:t.is_vip_only,onChange:s=>l("is_vip_only",s.target.checked)}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100",children:"VIP Exclusive"}),e.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Only accessible to VIP members"})]})]})})]})]})}),ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Media Assets"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"poster_url",value:"Poster URL"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(n,{id:"poster_url",type:"url",className:"mt-1 block w-full",value:t.poster_url,onChange:s=>l("poster_url",s.target.value),placeholder:"https://..."}),t.poster_url&&e.jsx("div",{className:"flex-shrink-0 h-10 w-8 bg-gray-100 rounded overflow-hidden border border-gray-200",children:e.jsx("img",{src:t.poster_url,alt:"Preview",className:"w-full h-full object-cover"})})]}),e.jsx(c,{message:o.poster_url,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"banner_url",value:"Banner/Backdrop URL"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(n,{id:"banner_url",type:"url",className:"mt-1 block w-full",value:t.banner_url,onChange:s=>l("banner_url",s.target.value),placeholder:"https://..."}),t.banner_url&&e.jsx("div",{className:"flex-shrink-0 h-10 w-16 bg-gray-100 rounded overflow-hidden border border-gray-200",children:e.jsx("img",{src:t.banner_url,alt:"Preview",className:"w-full h-full object-cover"})})]}),e.jsx(c,{message:o.banner_url,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"trailer_url",value:"Trailer URL (YouTube/Embed)"}),e.jsx(n,{id:"trailer_url",type:"url",className:"mt-1 block w-full",value:t.trailer_url,onChange:s=>l("trailer_url",s.target.value),placeholder:"https://youtube.com/..."}),e.jsx(c,{message:o.trailer_url,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Genres"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:R.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx(y,{checked:t.genres.includes(s.id),onChange:()=>U(s.id)}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:s.name})]},s.id))}),e.jsx(c,{message:o.genres,className:"mt-2"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cast & Crew"}),e.jsx(b,{onClick:q,type:"button",size:"sm",children:"+ Add Person"})]}),e.jsx("div",{className:"space-y-4",children:t.persons.map((s,r)=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start border-b border-gray-100 dark:border-gray-700 pb-4 last:border-0",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx(d,{value:"Person"}),e.jsx(ie,{value:s.person_id,onChange:a=>w(r,"person_id",a),persons:T})]}),e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx(d,{value:"Role"}),e.jsxs("select",{className:"mt-1 block w-full text-gray-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.role_type,onChange:a=>w(r,"role_type",a.target.value),children:[e.jsx("option",{value:"actor",children:"Actor"}),e.jsx("option",{value:"director",children:"Director"}),e.jsx("option",{value:"writer",children:"Writer"}),e.jsx("option",{value:"producer",children:"Producer"})]})]}),s.role_type==="actor"&&e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx(d,{value:"Character Name"}),e.jsx(n,{className:"mt-1 block w-full",value:s.character_name,onChange:a=>w(r,"character_name",a.target.value),placeholder:"e.g. James Bond"})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>K(r),className:"text-red-500 hover:text-red-700",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},r))}),t.persons.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No cast or crew added yet."})]})]}),re=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Watch Links"}),e.jsx(b,{onClick:O,type:"button",size:"sm",children:"+ Add Link"})]}),e.jsx("div",{className:"space-y-4",children:t.watch_links.map((s,r)=>e.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Server Name"}),e.jsx(n,{className:"mt-1 block w-full",value:s.server_name,onChange:a=>g(r,"server_name",a.target.value),placeholder:"e.g. VidCloud"})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Quality"}),e.jsxs("select",{className:"mt-1 block w-full text-gray-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.quality,onChange:a=>g(r,"quality",a.target.value),children:[e.jsx("option",{value:"4K",children:"4K"}),e.jsx("option",{value:"FHD",children:"1080p"}),e.jsx("option",{value:"HD",children:"720p"}),e.jsx("option",{value:"SD",children:"480p"}),e.jsx("option",{value:"CAM",children:"CAM"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Type"}),e.jsxs("div",{className:"flex gap-4 mt-1",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",className:"text-indigo-600 focus:ring-indigo-500",checked:s.type==="url",onChange:()=>g(r,"type","url")}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Direct URL"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",className:"text-indigo-600 focus:ring-indigo-500",checked:s.type==="embed",onChange:()=>g(r,"type","embed")}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Embed Code"})]})]})]}),s.type==="url"?e.jsxs("div",{children:[e.jsx(d,{value:"URL"}),e.jsx(n,{className:"mt-1 block w-full",value:s.url,onChange:a=>g(r,"url",a.target.value),placeholder:"https://..."})]}):e.jsxs("div",{children:[e.jsx(d,{value:"Embed Code"}),e.jsx("textarea",{className:"mt-1 block w-full text-gray-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"3",value:s.embed_code,onChange:a=>g(r,"embed_code",a.target.value),placeholder:"<iframe>...</iframe>"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx(y,{checked:s.is_vip_only,onChange:a=>g(r,"is_vip_only",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"VIP Only"})]}),e.jsx("button",{type:"button",onClick:()=>Q(r),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]})]},r))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Download Links"}),e.jsx(b,{onClick:$,type:"button",size:"sm",children:"+ Add Link"})]}),e.jsx("div",{className:"space-y-4",children:t.download_links.map((s,r)=>e.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"Server Name"}),e.jsx(n,{className:"mt-1 block w-full",value:s.server_name,onChange:a=>x(r,"server_name",a.target.value),placeholder:"e.g. Mega"})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Quality"}),e.jsxs("select",{className:"mt-1 block w-full text-gray-500 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.quality,onChange:a=>x(r,"quality",a.target.value),children:[e.jsx("option",{value:"4K",children:"4K"}),e.jsx("option",{value:"FHD",children:"1080p"}),e.jsx("option",{value:"HD",children:"720p"}),e.jsx("option",{value:"SD",children:"480p"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{value:"URL"}),e.jsx(n,{className:"mt-1 block w-full",value:s.url,onChange:a=>x(r,"url",a.target.value),placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{value:"File Size"}),e.jsx(n,{className:"mt-1 block w-full",value:s.file_size,onChange:a=>x(r,"file_size",a.target.value),placeholder:"e.g. 1.2 GB"})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Format"}),e.jsx(n,{className:"mt-1 block w-full",value:s.file_format,onChange:a=>x(r,"file_format",a.target.value),placeholder:"e.g. MKV"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx(y,{checked:s.is_vip_only,onChange:a=>x(r,"is_vip_only",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"VIP Only"})]}),e.jsx("button",{type:"button",onClick:()=>J(r),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]})]},r))})]})]});return e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:` w-8 h-8 rounded-full flex items-center justify-center font-bold ${u>=s?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:s}),s<4&&e.jsx("div",{className:`relative w-16 sm:w-24 h-1 ${u>s?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}`})]},s))}),e.jsxs("div",{className:"min-h-[400px]",children:[u===1&&ee(),u===2&&se(),u===3&&ae(),u===4&&re()]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(b,{onClick:u===1?p:Z,type:"button",disabled:f,children:u===1?"Cancel":"Previous"}),u<4?e.jsx(S,{type:"button",onClick:X,children:"Next"},"next-btn"):e.jsx(S,{type:"submit",disabled:f,className:" justify-center",children:f?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):i?"Update Movie":"Create Movie"},"submit-btn")]}),e.jsx(de,{show:z,onClose:()=>k(!1),maxWidth:"2xl",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Search TMDB"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(n,{type:"text",className:"w-full",placeholder:"Search for a movie...",value:_,onChange:s=>A(s.target.value)}),e.jsx(S,{onClick:V,disabled:N,children:N?"Searching...":"Search"},"submit-btn-1")]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[D.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer border border-gray-200 dark:border-gray-600",onClick:()=>H(s.id),children:[s.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w92${s.poster_path}`,alt:s.title,className:"w-12 h-18 object-cover rounded"}):e.jsx("div",{className:"w-12 h-18 bg-gray-200 dark:bg-gray-600 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"No Img"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.release_date})]})]},s.id)),D.length===0&&!N&&e.jsx("p",{className:"text-center text-gray-500",children:"No results found."})]})]})})]})}export{ye as default};
