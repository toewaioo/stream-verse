import{r,a as l,j as e,H as f}from"./app-pa8R6s_u.js";import{A as j}from"./AdminLayout-Bkwcaqby.js";import{M as v}from"./Modal-DIaj70_q.js";import{P as w}from"./PrimaryButton-DThyh1FW.js";import N from"./SeriesForm-DxlP--fu.js";import"./ApplicationLogo-Rhx6X2l7.js";import"./Dropdown-Bw17NT3M.js";import"./transition--53gIZ3_.js";import"./open-closed-DCLrtwyt.js";import"./portal-Bs4O8tVC.js";import"./InputLabel-CwJ-VUPA.js";import"./InputError-ZboArTNe.js";import"./SecondaryButton-iqUIb5un.js";import"./Checkbox-BAwlJUH9.js";import"./PersonSelector-C7RbNug4.js";function P({series:o,genres:x,persons:c,auth:b}){const[m,s]=r.useState(!1),[a,d]=r.useState(null),[i,g]=r.useState("");r.useEffect(()=>{const t=setTimeout(()=>{l.get(route("admin.series"),{search:i},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(t)},[i]);const h=()=>{d(null),s(!0)},u=t=>{d(t),s(!0)},n=()=>{s(!1),d(null)},p=t=>{confirm("Are you sure you want to delete this series?")&&l.delete(route("admin.series.destroy",t))};return e.jsxs(j,{children:[e.jsx(f,{title:"Manage Series"}),e.jsx("div",{className:"",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Series"}),e.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[e.jsx("input",{type:"text",placeholder:"Search series...",className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full md:w-64",value:i,onChange:t=>g(t.target.value)}),e.jsx(w,{onClick:h,children:"Add Series"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Seasons"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:o.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-full overflow-hidden",children:t.poster_url?e.jsx("img",{className:"h-10 w-10 object-cover",src:t.poster_url,alt:""}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-xs",children:"N/A"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.original_title})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[t.seasons.length||0," ","Seasons"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="ongoing"?"bg-green-100 text-green-800":t.status==="ended"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>u(t),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>p(t.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},t.id))})]})}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("div",{className:"flex gap-1 flex-wrap",children:o.links.map((t,y)=>e.jsx("button",{onClick:()=>{t.url&&l.visit(t.url,{preserveState:!0,preserveScroll:!0})},disabled:!t.url,className:`px-4 py-2 text-sm rounded-md ${t.active?"bg-indigo-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"} ${!t.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},y))})})]})})})}),e.jsx(v,{show:m,onClose:n,maxWidth:"4xl",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:a?`Edit Series: ${a.title}`:"Create New Series"}),e.jsx(N,{series:a,genres:x||[],persons:c||[],onClose:n,onSuccess:()=>{}})]})})]})}export{P as default};
