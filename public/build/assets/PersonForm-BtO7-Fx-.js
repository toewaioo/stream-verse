import{u as p,j as a}from"./app-mlyWBNkP.js";import{u as b}from"./useFormPersistence-B3h0QkEO.js";import{I as d}from"./InputLabel-Bj1higKY.js";import{T as o,I as i}from"./InputError-DC18bspY.js";import{P as v}from"./PrimaryButton-DgG1kJs0.js";import{S as j}from"./SecondaryButton-DkMdmzlo.js";function C({person:t,onClose:m,onSuccess:c}){const{data:r,setData:s,post:n,put:g,processing:u,errors:l}=p({name:t?.name||"",biography:t?.biography||"",birth_date:t?.birth_date||"",death_date:t?.death_date||"",place_of_birth:t?.place_of_birth||"",avatar_url:t?.avatar_url||""}),x=t?.id?`person_form_update_${t.id}`:"person_form_create",{clearStorage:h}=b(x,r,s),_=e=>{e.preventDefault(),t?g(route("admin.persons.update",t.id),{onSuccess:()=>{h(),c(),m()}}):n(route("admin.persons.store"),{onSuccess:()=>{h(),c(),m()}})};return a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(d,{htmlFor:"name",value:"Name"}),a.jsx(o,{id:"name",type:"text",className:"mt-1 block w-full",value:r.name,onChange:e=>s("name",e.target.value),required:!0}),a.jsx(i,{message:l.name,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(d,{htmlFor:"biography",value:"Biography"}),a.jsx("textarea",{id:"biography",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"4",value:r.biography,onChange:e=>s("biography",e.target.value)}),a.jsx(i,{message:l.biography,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(d,{htmlFor:"avatar_url",value:"Avatar URL"}),a.jsx(o,{id:"avatar_url",type:"url",className:"mt-1 block w-full",value:r.avatar_url,onChange:e=>s("avatar_url",e.target.value)}),a.jsx(i,{message:l.avatar_url,className:"mt-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(d,{htmlFor:"place_of_birth",value:"Place of Birth"}),a.jsx(o,{id:"place_of_birth",type:"text",className:"mt-1 block w-full",value:r.place_of_birth,onChange:e=>s("place_of_birth",e.target.value)}),a.jsx(i,{message:l.place_of_birth,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(d,{htmlFor:"birth_date",value:"Birth Date"}),a.jsx(o,{id:"birth_date",type:"date",className:"mt-1 block w-full",value:r.birth_date,onChange:e=>s("birth_date",e.target.value)}),a.jsx(i,{message:l.birth_date,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(d,{htmlFor:"death_date",value:"Death Date"}),a.jsx(o,{id:"death_date",type:"date",className:"mt-1 block w-full",value:r.death_date,onChange:e=>s("death_date",e.target.value)}),a.jsx(i,{message:l.death_date,className:"mt-2"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 border-t pt-4",children:[a.jsx(j,{onClick:m,disabled:u,children:"Cancel"}),a.jsx(v,{disabled:u,children:t?"Update Person":"Create Person"})]})]})}export{C as default};
