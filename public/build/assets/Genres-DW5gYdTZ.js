import{r as a,u as f,j as e,H as j,b as w}from"./app-BlUwQSBN.js";import{A as N,b as c}from"./AdminLayout-BbmbhoEZ.js";import{M as b}from"./Modal-Das-L1Hn.js";import{P as k}from"./PrimaryButton-ChSft8n4.js";import{T as v}from"./TextInput-DQGmZ1zW.js";import C from"./GenreForm-DfSTJfKK.js";import{u as G}from"./useTranslation-DTVDIYQ_.js";import{F as M,a as S,b as F,c as E}from"./TrashIcon-CCJlScnE.js";import"./ApplicationLogo-BaD4I2Wi.js";import"./Dropdown-BlQnGLMy.js";import"./transition-BrDJP_ID.js";import"./portal-CYWgWCQN.js";import"./with-selector-CAy8_NaN.js";import"./useFormPersistence-Bck2eF1g.js";import"./InputLabel-o-HfUSd6.js";import"./InputError-7QvtulN0.js";import"./SecondaryButton-D98HeL4M.js";function K({genres:d}){const[m,i]=a.useState(!1),[l,o]=a.useState(null),[s,g]=a.useState(""),{t:r}=G(),{auth:h}=f().props,p=()=>{o(null),i(!0)},u=t=>{o(t),i(!0)},n=()=>{i(!1),o(null)},y=t=>{confirm("Are you sure you want to delete this genre?")&&w.delete(route("admin.genres.destroy",t))},x=a.useMemo(()=>s?d.filter(t=>t.name.toLowerCase().includes(s.toLowerCase())||t.slug.toLowerCase().includes(s.toLowerCase())):d,[d,s]);return e.jsxs(N,{children:[e.jsx(j,{title:"Manage Genres"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r("Genres")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage movie and series genres."})]}),e.jsxs(k,{onClick:p,className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5"}),r("Add Genre")]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700/50 flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(v,{type:"text",placeholder:r("Search genres..."),className:"w-full pl-10",value:s,onChange:t=>g(t.target.value)})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700/50 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:r("Name")}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:r("Slug")}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:r("Actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:x.length>0?x.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-indigo-600 dark:text-indigo-400",children:e.jsx(c,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"px-2.5 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-mono",children:t.slug})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>u(t),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg dark:text-indigo-400 dark:hover:bg-indigo-900/20 transition-colors",title:r("Edit"),children:e.jsx(F,{className:"w-5 h-5"})}),h.user.role==="admin"&&e.jsx("button",{onClick:()=>y(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg dark:text-red-400 dark:hover:bg-red-900/20 transition-colors",title:r("Delete"),children:e.jsx(E,{className:"w-5 h-5"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx(c,{className:"w-8 h-8 text-gray-300 dark:text-gray-600"}),e.jsx("p",{children:r("No genres found")})]})})})})]})})})]}),e.jsx(b,{show:m,onClose:n,maxWidth:"md",children:e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:l?`${r("Edit Genre")}: ${l.name}`:r("Create New Genre")}),e.jsx(C,{genre:l,onClose:n,onSuccess:()=>{}})]})})]})}export{K as default};
