import{R as D,r as f,t as po,j as X,d as mo}from"./app-mlyWBNkP.js";import{l as hn,r as oe,f as gn,s as vn,a as ho,E as bn,b as xn,L as go,m as At,c as pt,n as Se,i as kt,o as vo,d as bo,e as xo,g as yn,h as wn,T as yo,x as En,k as wo,G as Eo,j as $o,S as K,p as Co,q as So,u as Lt,t as Oo,v as Ro,y as To,w as Mo,z as ee,A as Dt,B as _t,C as Fo}from"./portal-D3tlSfzS.js";import{p as Je,o as H,m as Io,Y as Oe,y as Ne,n as te,K as Re,a as $t,u as $e,c as Po,i as Ke,s as Ao,b as ko,N as Lo,V as Ct,x as Do,A as Nt}from"./open-closed-jwvP1Civ.js";const $n=typeof document<"u"?D.useLayoutEffect:()=>{};var st;const _o=(st=D.useInsertionEffect)!==null&&st!==void 0?st:$n;function No(e){const n=f.useRef(null);return _o(()=>{n.current=e},[e]),f.useCallback((...t)=>{const o=n.current;return o?.(...t)},[])}const me=e=>{var n;return(n=e?.ownerDocument)!==null&&n!==void 0?n:document},ge=e=>e&&"window"in e&&e.window===e?e:me(e).defaultView||window;function Ho(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function zo(e){return Ho(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Bo=!1;function St(){return Bo}function Cn(e,n){if(!St())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:zo(t)?t=t.host:t=t.parentNode}return!1}const mt=(e=document)=>{var n;if(!St())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function Sn(e){return St()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Wo(e){var n;if(typeof window>"u"||window.navigator==null)return!1;let t=(n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands;return Array.isArray(t)&&t.some(o=>e.test(o.brand))||e.test(window.navigator.userAgent)}function Vo(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function On(e){let n=null;return()=>(n==null&&(n=e()),n)}const jo=On(function(){return Vo(/^Mac/i)}),Uo=On(function(){return Wo(/Android/i)});function Rn(){let e=f.useRef(new Map),n=f.useCallback((r,i,s,l)=>{let a=l?.once?(...c)=>{e.current.delete(s),s(...c)}:s;e.current.set(s,{type:i,eventTarget:r,fn:a,options:l}),r.addEventListener(i,a,l)},[]),t=f.useCallback((r,i,s,l)=>{var a;let c=((a=e.current.get(s))===null||a===void 0?void 0:a.fn)||s;r.removeEventListener(i,c,l),e.current.delete(s)},[]),o=f.useCallback(()=>{e.current.forEach((r,i)=>{t(r.eventTarget,r.type,i,r.options)})},[t]);return f.useEffect(()=>o,[o]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:o}}function Go(e){return e.pointerType===""&&e.isTrusted?!0:Uo()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Tn(e){let n=e;return n.nativeEvent=e,n.isDefaultPrevented=()=>n.defaultPrevented,n.isPropagationStopped=()=>n.cancelBubble,n.persist=()=>{},n}function Ko(e,n){Object.defineProperty(e,"target",{value:n}),Object.defineProperty(e,"currentTarget",{value:n})}function Mn(e){let n=f.useRef({isFocused:!1,observer:null});$n(()=>{const o=n.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let t=No(o=>{e?.(o)});return f.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){n.current.isFocused=!0;let r=o.target,i=s=>{if(n.current.isFocused=!1,r.disabled){let l=Tn(s);t(l)}n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&r.disabled){var s;(s=n.current.observer)===null||s===void 0||s.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),n.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let qo=!1,He=null,ht=new Set,ke=new Map,ve=!1,gt=!1;const Yo={Tab:!0,Escape:!0};function Ot(e,n){for(let t of ht)t(e,n)}function Xo(e){return!(e.metaKey||!jo()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function qe(e){ve=!0,Xo(e)&&(He="keyboard",Ot("keyboard",e))}function we(e){He="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ve=!0,Ot("pointer",e))}function Fn(e){Go(e)&&(ve=!0,He="virtual")}function In(e){e.target===window||e.target===document||qo||!e.isTrusted||(!ve&&!gt&&(He="virtual",Ot("virtual",e)),ve=!1,gt=!1)}function Pn(){ve=!1,gt=!0}function vt(e){if(typeof window>"u"||typeof document>"u"||ke.get(ge(e)))return;const n=ge(e),t=me(e);let o=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){ve=!0,o.apply(this,arguments)},t.addEventListener("keydown",qe,!0),t.addEventListener("keyup",qe,!0),t.addEventListener("click",Fn,!0),n.addEventListener("focus",In,!0),n.addEventListener("blur",Pn,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",we,!0),t.addEventListener("pointermove",we,!0),t.addEventListener("pointerup",we,!0)),n.addEventListener("beforeunload",()=>{An(e)},{once:!0}),ke.set(n,{focus:o})}const An=(e,n)=>{const t=ge(e),o=me(e);n&&o.removeEventListener("DOMContentLoaded",n),ke.has(t)&&(t.HTMLElement.prototype.focus=ke.get(t).focus,o.removeEventListener("keydown",qe,!0),o.removeEventListener("keyup",qe,!0),o.removeEventListener("click",Fn,!0),t.removeEventListener("focus",In,!0),t.removeEventListener("blur",Pn,!1),typeof PointerEvent<"u"&&(o.removeEventListener("pointerdown",we,!0),o.removeEventListener("pointermove",we,!0),o.removeEventListener("pointerup",we,!0)),ke.delete(t))};function Zo(e){const n=me(e);let t;return n.readyState!=="loading"?vt(e):(t=()=>{vt(e)},n.addEventListener("DOMContentLoaded",t)),()=>An(e,t)}typeof document<"u"&&Zo();function kn(){return He!=="pointer"}const Jo=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Qo(e,n,t){let o=me(t?.target);const r=typeof window<"u"?ge(t?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?ge(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?ge(t?.target).HTMLElement:HTMLElement,l=typeof window<"u"?ge(t?.target).KeyboardEvent:KeyboardEvent;return e=e||o.activeElement instanceof r&&!Jo.has(o.activeElement.type)||o.activeElement instanceof i||o.activeElement instanceof s&&o.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof l&&!Yo[t.key])}function er(e,n,t){vt(),f.useEffect(()=>{let o=(r,i)=>{Qo(!!t?.isTextInput,r,i)&&e(kn())};return ht.add(o),()=>{ht.delete(o)}},n)}function tr(e){let{isDisabled:n,onFocus:t,onBlur:o,onFocusChange:r}=e;const i=f.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),r&&r(!1),!0},[o,r]),s=Mn(i),l=f.useCallback(a=>{const c=me(a.target),u=c?mt(c):mt();a.target===a.currentTarget&&u===Sn(a.nativeEvent)&&(t&&t(a),r&&r(!0),s(a))},[r,t,s]);return{focusProps:{onFocus:!n&&(t||r||o)?l:void 0,onBlur:!n&&(o||r)?i:void 0}}}function nr(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:o,onFocusWithinChange:r}=e,i=f.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:l}=Rn(),a=f.useCallback(m=>{m.currentTarget.contains(m.target)&&i.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(i.current.isFocusWithin=!1,l(),t&&t(m),r&&r(!1))},[t,r,i,l]),c=Mn(a),u=f.useCallback(m=>{if(!m.currentTarget.contains(m.target))return;const g=me(m.target),d=mt(g);if(!i.current.isFocusWithin&&d===Sn(m.nativeEvent)){o&&o(m),r&&r(!0),i.current.isFocusWithin=!0,c(m);let p=m.currentTarget;s(g,"focus",h=>{if(i.current.isFocusWithin&&!Cn(p,h.target)){let v=new g.defaultView.FocusEvent("blur",{relatedTarget:h.target});Ko(v,p);let b=Tn(v);a(b)}},{capture:!0})}},[o,r,c,s,a]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:a}}}let bt=!1,je=0;function or(){bt=!0,setTimeout(()=>{bt=!1},50)}function Ht(e){e.pointerType==="touch"&&or()}function rr(){if(!(typeof document>"u"))return je===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Ht),je++,()=>{je--,!(je>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Ht)}}function Ln(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:o,isDisabled:r}=e,[i,s]=f.useState(!1),l=f.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;f.useEffect(rr,[]);let{addGlobalListener:a,removeAllGlobalListeners:c}=Rn(),{hoverProps:u,triggerHoverEnd:m}=f.useMemo(()=>{let g=(h,v)=>{if(l.pointerType=v,r||v==="touch"||l.isHovered||!h.currentTarget.contains(h.target))return;l.isHovered=!0;let b=h.currentTarget;l.target=b,a(me(h.target),"pointerover",y=>{l.isHovered&&l.target&&!Cn(l.target,y.target)&&d(y,y.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:b,pointerType:v}),t&&t(!0),s(!0)},d=(h,v)=>{let b=l.target;l.pointerType="",l.target=null,!(v==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,c(),o&&o({type:"hoverend",target:b,pointerType:v}),t&&t(!1),s(!1))},p={};return typeof PointerEvent<"u"&&(p.onPointerEnter=h=>{bt&&h.pointerType==="mouse"||g(h,h.pointerType)},p.onPointerLeave=h=>{!r&&h.currentTarget.contains(h.target)&&d(h,h.pointerType)}),{hoverProps:p,triggerHoverEnd:d}},[n,t,o,r,l,a,c]);return f.useEffect(()=>{r&&m({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:u,isHovered:i}}function Dn(e={}){let{autoFocus:n=!1,isTextInput:t,within:o}=e,r=f.useRef({isFocused:!1,isFocusVisible:n||kn()}),[i,s]=f.useState(!1),[l,a]=f.useState(()=>r.current.isFocused&&r.current.isFocusVisible),c=f.useCallback(()=>a(r.current.isFocused&&r.current.isFocusVisible),[]),u=f.useCallback(d=>{r.current.isFocused=d,s(d),c()},[c]);er(d=>{r.current.isFocusVisible=d,c()},[],{isTextInput:t});let{focusProps:m}=tr({isDisabled:o,onFocusChange:u}),{focusWithinProps:g}=nr({isDisabled:!o,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:l,focusProps:o?g:m}}function ir(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function sr(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function lr({disabled:e=!1}={}){let n=f.useRef(null),[t,o]=f.useState(!1),r=Je(),i=H(()=>{n.current=null,o(!1),r.dispose()}),s=H(l=>{if(r.dispose(),n.current===null){n.current=l.currentTarget,o(!0);{let a=hn(l.currentTarget);r.addEventListener(a,"pointerup",i,!1),r.addEventListener(a,"pointermove",c=>{if(n.current){let u=ir(c);o(sr(u,n.current.getBoundingClientRect()))}},!1),r.addEventListener(a,"pointercancel",i,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}function ar(e,n,t){let[o,r]=f.useState(t),i=e!==void 0,s=f.useRef(i),l=f.useRef(!1),a=f.useRef(!1);return i&&!s.current&&!l.current?(l.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!a.current&&(a.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:o,H(c=>(i||oe.flushSync(()=>r(c)),n?.(c)))]}function cr(e){let[n]=f.useState(e);return n}function _n(e={},n=null,t=[]){for(let[o,r]of Object.entries(e))Hn(t,Nn(n,o),r);return t}function Nn(e,n){return e?e+"["+n+"]":n}function Hn(e,n,t){if(Array.isArray(t))for(let[o,r]of t.entries())Hn(e,Nn(n,o.toString()),r);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):ur(t)&&!f.isValidElement(t)&&_n(t,n,e)}function ur(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let n=Object.getPrototypeOf(e);return n===null||Object.getPrototypeOf(n)===null}let fr=f.createContext(null);function dr({children:e}){let n=f.useContext(fr);if(!n)return D.createElement(D.Fragment,null,e);let{target:t}=n;return t?oe.createPortal(D.createElement(D.Fragment,null,e),t):null}function pr({data:e,form:n,disabled:t,onReset:o,overrides:r}){let[i,s]=f.useState(null),l=Je();return f.useEffect(()=>{if(o&&i)return l.addEventListener(i,"reset",o)},[i,n,o]),D.createElement(dr,null,D.createElement(mr,{setForm:s,formId:n}),_n(e).map(([a,c])=>D.createElement(gn,{features:vn.Hidden,...Io({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:a,value:c,...r})})))}function mr({setForm:e,formId:n}){return f.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:D.createElement(gn,{features:vn.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}let hr=f.createContext(void 0);function zn(){return f.useContext(hr)}function zt(e){let n=e.parentElement,t=null;for(;n&&!ho(n);)bn(n)&&(t=n),n=n.parentElement;let o=n?.getAttribute("disabled")==="";return o&&gr(t)?!1:o}function gr(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(bn(n))return!1;n=n.previousElementSibling}return!0}let Qe=f.createContext(null);Qe.displayName="LabelContext";function Bn(){let e=f.useContext(Qe);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Bn),n}return e}function et(e){var n,t,o;let r=(t=(n=f.useContext(Qe))==null?void 0:n.value)!=null?t:void 0;return((o=e?.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function vr({inherit:e=!1}={}){let n=et(),[t,o]=f.useState([]),r=e?[n,...t].filter(Boolean):t;return[r.length>0?r.join(" "):void 0,f.useMemo(()=>function(i){let s=H(a=>(o(c=>[...c,a]),()=>o(c=>{let u=c.slice(),m=u.indexOf(a);return m!==-1&&u.splice(m,1),u}))),l=f.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return D.createElement(Qe.Provider,{value:l},i.children)},[o])]}let br="label";function xr(e,n){var t;let o=f.useId(),r=Bn(),i=zn(),s=xn(),{id:l=`headlessui-label-${o}`,htmlFor:a=i??((t=r.props)==null?void 0:t.htmlFor),passive:c=!1,...u}=e,m=Ne(n);te(()=>r.register(l),[l,r.register]);let g=H(h=>{let v=h.currentTarget;if(!(h.target!==h.currentTarget&&go(h.target))&&(At(v)&&h.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(h),At(v))){let b=document.getElementById(v.htmlFor);if(b){let y=b.getAttribute("disabled");if(y==="true"||y==="")return;let x=b.getAttribute("aria-disabled");if(x==="true"||x==="")return;(pt(b)&&(b.type==="file"||b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),d=Se({...r.slot,disabled:s||!1}),p={ref:m,...r.props,id:l,htmlFor:a,onClick:g};return c&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),Re()({ourProps:p,theirProps:u,slot:d,defaultTag:a?br:"div",name:r.name||"Label"})}let yr=Oe(xr),wr=Object.assign(yr,{});function ye(e,n,t){let o=t.initialDeps??[],r;function i(){var s,l,a,c;let u;t.key&&((s=t.debug)!=null&&s.call(t))&&(u=Date.now());const m=e();if(!(m.length!==o.length||m.some((p,h)=>o[h]!==p)))return r;o=m;let d;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(d=Date.now()),r=n(...m),t.key&&((a=t.debug)!=null&&a.call(t))){const p=Math.round((Date.now()-u)*100)/100,h=Math.round((Date.now()-d)*100)/100,v=h/16,b=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%câ± ${b(h,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,t?.key)}return(c=t?.onChange)==null||c.call(t,r),r}return i.updateDeps=s=>{o=s},i}function Bt(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Er=(e,n)=>Math.abs(e-n)<1.01,$r=(e,n,t)=>{let o;return function(...r){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,r),t)}},Wt=e=>{const{offsetWidth:n,offsetHeight:t}=e;return{width:n,height:t}},Cr=e=>e,Sr=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let r=n;r<=t;r++)o.push(r);return o},Or=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const r=s=>{const{width:l,height:a}=s;n({width:Math.round(l),height:Math.round(a)})};if(r(Wt(t)),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(s=>{const l=()=>{const a=s[0];if(a?.borderBoxSize){const c=a.borderBoxSize[0];if(c){r({width:c.inlineSize,height:c.blockSize});return}}r(Wt(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},Vt={passive:!0},jt=typeof window>"u"?!0:"onscrollend"in window,Rr=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let r=0;const i=e.options.useScrollendEvent&&jt?()=>{}:$r(o,()=>{n(r,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:m,isRtl:g}=e.options;r=m?t.scrollLeft*(g&&-1||1):t.scrollTop,i(),n(r,u)},l=s(!0),a=s(!1);a(),t.addEventListener("scroll",l,Vt);const c=e.options.useScrollendEvent&&jt;return c&&t.addEventListener("scrollend",a,Vt),()=>{t.removeEventListener("scroll",l),c&&t.removeEventListener("scrollend",a)}},Tr=(e,n,t)=>{if(n?.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Mr=(e,{adjustments:n=0,behavior:t},o)=>{var r,i;const s=e+n;(i=(r=o.scrollElement)==null?void 0:r.scrollTo)==null||i.call(r,{[o.options.horizontal?"left":"top"]:s,behavior:t})};class Fr{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(r=>{r.forEach(i=>{const s=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var r;(r=o())==null||r.disconnect(),t=null},observe:r=>{var i;return(i=o())==null?void 0:i.observe(r,{box:"border-box"})},unobserve:r=>{var i;return(i=o())==null?void 0:i.unobserve(r)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,r])=>{typeof r>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Cr,rangeExtractor:Sr,onChange:()=>{},measureElement:Tr,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var o,r;(r=(o=this.options).onChange)==null||r.call(o,this,t)},this.maybeNotify=ye(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const r=new Map,i=new Map;for(let s=o-1;s>=0;s--){const l=t[s];if(r.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&r.set(l.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,l)=>s.end===l.end?s.index-l.index:s.end-l.end)[0]:void 0},this.getMeasurementOptions=ye(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,r,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=ye(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:s},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let u=a;u<t;u++){const m=i(u),g=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),d=g?g.end+this.options.gap:o+r,p=l.get(m),h=typeof p=="number"?p:this.options.estimateSize(u),v=d+h,b=g?g.lane:u%this.options.lanes;c[u]={index:u,start:d,size:h,end:v,key:m,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ye(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,o,r,i)=>this.range=t.length>0&&o>0?Ir({measurements:t,outerSize:o,scrollOffset:r,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ye(()=>{let t=null,o=null;const r=this.calculateRange();return r&&(t=r.startIndex,o=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,o]},(t,o,r,i,s)=>i===null||s===null?[]:t({startIndex:i,endIndex:s,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,r=t.getAttribute(o);return r?parseInt(r,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const r=this.indexFromElement(t),i=this.measurementsCache[r];if(!i)return;const s=i.key,l=this.elementsCache.get(s);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(r,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const r=this.measurementsCache[t];if(!r)return;const i=this.itemSizeCache.get(r.key)??r.size,s=o-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,s,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,r)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(r))});return}this._measureElement(t,void 0)},this.getVirtualItems=ye(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,o)=>{const r=[];for(let i=0,s=t.length;i<s;i++){const l=t[i],a=o[l];r.push(a)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return Bt(o[Wn(0,o.length-1,r=>Bt(o[r]).start,t)])},this.getOffsetForAlignment=(t,o,r=0)=>{const i=this.getSize(),s=this.getScrollOffset();o==="auto"&&(o=t>=s+i?"end":"start"),o==="center"?t+=(r-i)/2:o==="end"&&(t-=i);const l=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const r=this.measurementsCache[t];if(!r)return;const i=this.getSize(),s=this.getScrollOffset();if(o==="auto")if(r.end>=s+i-this.options.scrollPaddingEnd)o="end";else if(r.start<=s+this.options.scrollPaddingStart)o="start";else return[s,o];const l=o==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o,r.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:o="start",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:r})},this.scrollToIndex=(t,{align:o="auto",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let i=0;const s=10,l=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(t,c);if(!u){console.warn("Failed to get offset for index:",t);return}const[m,g]=u;this._scrollToOffset(m,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const d=this.getScrollOffset(),p=this.getOffsetForIndex(t,g);if(!p){console.warn("Failed to get offset for index:",t);return}Er(p[0],d)||a(g)})},a=c=>{this.targetWindow&&(i++,i<s?this.targetWindow.requestAnimationFrame(()=>l(c)):console.warn(`Failed to scroll to index ${t} after ${s} attempts.`))};l(o)},this.scrollBy=(t,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let r;if(o.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((t=o[o.length-1])==null?void 0:t.end)??0;else{const i=Array(this.options.lanes).fill(null);let s=o.length-1;for(;s>=0&&i.some(l=>l===null);){const l=o[s];i[l.lane]===null&&(i[l.lane]=l.end),s--}r=Math.max(...i.filter(l=>l!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:r})=>{this.options.scrollToFn(t,{behavior:r,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const Wn=(e,n,t,o)=>{for(;e<=n;){const r=(e+n)/2|0,i=t(r);if(i<o)e=r+1;else if(i>o)n=r-1;else return r}return e>0?e-1:0};function Ir({measurements:e,outerSize:n,scrollOffset:t,lanes:o}){const r=e.length-1,i=a=>e[a].start;if(e.length<=o)return{startIndex:0,endIndex:r};let s=Wn(0,r,i,t),l=s;if(o===1)for(;l<r&&e[l].end<t+n;)l++;else if(o>1){const a=Array(o).fill(0);for(;l<r&&a.some(u=>u<t+n);){const u=e[l];a[u.lane]=u.end,l++}const c=Array(o).fill(t+n);for(;s>=0&&c.some(u=>u>=t);){const u=e[s];c[u.lane]=u.start,s--}s=Math.max(0,s-s%o),l=Math.min(r,l+(o-1-l%o))}return{startIndex:s,endIndex:l}}const Ut=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Pr(e){const n=f.useReducer(()=>({}),{})[1],t={...e,onChange:(r,i)=>{var s;i?oe.flushSync(n):n(),(s=e.onChange)==null||s.call(e,r,i)}},[o]=f.useState(()=>new Fr(t));return o.setOptions(t),Ut(()=>o._didMount(),[]),Ut(()=>o._willUpdate()),o}function Ar(e){return Pr({observeElementRect:Or,observeElementOffset:Rr,scrollToFn:Mr,...e})}function kr(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function Lr(e=kr){return f.useCallback((n,t)=>{if(typeof e=="string"){let o=e;return n?.[o]===t?.[o]}return e(n,t)},[e])}function Gt(e){if(e===null)return{width:0,height:0};let{width:n,height:t}=e.getBoundingClientRect();return{width:n,height:t}}function Kt(e,n,t=!1){let[o,r]=f.useState(()=>Gt(n));return te(()=>{if(!n||!e)return;let i=$t();return i.requestAnimationFrame(function s(){i.requestAnimationFrame(s),r(l=>{let a=Gt(n);return a.width===l.width&&a.height===l.height?l:a})}),()=>{i.dispose()}},[n,e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}var Rt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Rt||{});function Dr(e){let n=f.useRef(null),t=H(r=>{n.current=r.pointerType,!zt(r.currentTarget)&&r.pointerType==="mouse"&&r.button===Rt.Left&&(r.preventDefault(),e(r))}),o=H(r=>{n.current!=="mouse"&&(zt(r.currentTarget)||e(r))});return{onPointerDown:t,onClick:o}}var _r=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(_r||{});const Ie={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Nr=200,qt=5;function Hr(e,{trigger:n,action:t,close:o,select:r}){let i=f.useRef(null),s=f.useRef(null),l=f.useRef(null);kt(e&&n!==null,"pointerdown",a=>{vo(a?.target)&&n!=null&&n.contains(a.target)&&(s.current=a.x,l.current=a.y,i.current=a.timeStamp)}),kt(e&&n!==null,"pointerup",a=>{var c,u;let m=i.current;if(m===null||(i.current=null,!bo(a.target))||Math.abs(a.x-((c=s.current)!=null?c:a.x))<qt&&Math.abs(a.y-((u=l.current)!=null?u:a.y))<qt)return;let g=t(a);switch(g.kind){case 0:return;case 1:{a.timeStamp-m>Nr&&(r(g.target),o());break}case 2:{o();break}}},{capture:!0})}function Vn(e){let n=f.useRef({value:"",selectionStart:null,selectionEnd:null});return xo(e,"blur",t=>{let o=t.target;pt(o)&&(n.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),H(()=>{if(!yn(e)&&pt(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==n.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:o}=n.current;t!==null&&o!==null&&e.setSelectionRange(t,o)}n.current={value:"",selectionStart:null,selectionEnd:null}}})}function zr(e,n){return f.useMemo(()=>{var t;if(e.type)return e.type;let o=(t=e.as)!=null?t:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||n?.tagName==="BUTTON"&&!n.hasAttribute("type"))return"button"},[e.type,e.as,n])}function Yt(e){return[e.screenX,e.screenY]}function Br(){let e=f.useRef([-1,-1]);return{wasMoved(n){let t=Yt(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Yt(n)}}}function Wr(e,{container:n,accept:t,walk:o}){let r=f.useRef(t),i=f.useRef(o);f.useEffect(()=>{r.current=t,i.current=o},[t,o]),te(()=>{if(!n||!e)return;let s=hn(n);if(!s)return;let l=r.current,a=i.current,c=Object.assign(m=>l(m),{acceptNode:l}),u=s.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)a(u.currentNode)},[n,e,r,i])}function tt(){return typeof window<"u"}function Te(e){return jn(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ce(e){var n;return(n=(jn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function jn(e){return tt()?e instanceof Node||e instanceof re(e).Node:!1}function Q(e){return tt()?e instanceof Element||e instanceof re(e).Element:!1}function ae(e){return tt()?e instanceof HTMLElement||e instanceof re(e).HTMLElement:!1}function Xt(e){return!tt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof re(e).ShadowRoot}const Vr=new Set(["inline","contents"]);function ze(e){const{overflow:n,overflowX:t,overflowY:o,display:r}=ie(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+t)&&!Vr.has(r)}const jr=new Set(["table","td","th"]);function Ur(e){return jr.has(Te(e))}const Gr=[":popover-open",":modal"];function nt(e){return Gr.some(n=>{try{return e.matches(n)}catch{return!1}})}const Kr=["transform","translate","scale","rotate","perspective"],qr=["transform","translate","scale","rotate","perspective","filter"],Yr=["paint","layout","strict","content"];function Tt(e){const n=Mt(),t=Q(e)?ie(e):e;return Kr.some(o=>t[o]?t[o]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||qr.some(o=>(t.willChange||"").includes(o))||Yr.some(o=>(t.contain||"").includes(o))}function Xr(e){let n=de(e);for(;ae(n)&&!Ce(n);){if(Tt(n))return n;if(nt(n))return null;n=de(n)}return null}function Mt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zr=new Set(["html","body","#document"]);function Ce(e){return Zr.has(Te(e))}function ie(e){return re(e).getComputedStyle(e)}function ot(e){return Q(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function de(e){if(Te(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Xt(e)&&e.host||ce(e);return Xt(n)?n.host:n}function Un(e){const n=de(e);return Ce(n)?e.ownerDocument?e.ownerDocument.body:e.body:ae(n)&&ze(n)?n:Un(n)}function Le(e,n,t){var o;n===void 0&&(n=[]),t===void 0&&(t=!0);const r=Un(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=re(r);if(i){const l=xt(s);return n.concat(s,s.visualViewport||[],ze(r)?r:[],l&&t?Le(l):[])}return n.concat(r,Le(r,[],t))}function xt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jr(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:o}=n;return t+"/"+o}).join(" "):navigator.userAgent}const be=Math.min,Z=Math.max,De=Math.round,Ue=Math.floor,se=e=>({x:e,y:e}),Qr={left:"right",right:"left",bottom:"top",top:"bottom"},ei={start:"end",end:"start"};function Zt(e,n,t){return Z(e,be(n,t))}function Me(e,n){return typeof e=="function"?e(n):e}function pe(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function Gn(e){return e==="x"?"y":"x"}function Kn(e){return e==="y"?"height":"width"}const ti=new Set(["top","bottom"]);function ue(e){return ti.has(pe(e))?"y":"x"}function qn(e){return Gn(ue(e))}function ni(e,n,t){t===void 0&&(t=!1);const o=Be(e),r=qn(e),i=Kn(r);let s=r==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(s=Ye(s)),[s,Ye(s)]}function oi(e){const n=Ye(e);return[yt(e),n,yt(n)]}function yt(e){return e.replace(/start|end/g,n=>ei[n])}const Jt=["left","right"],Qt=["right","left"],ri=["top","bottom"],ii=["bottom","top"];function si(e,n,t){switch(e){case"top":case"bottom":return t?n?Qt:Jt:n?Jt:Qt;case"left":case"right":return n?ri:ii;default:return[]}}function li(e,n,t,o){const r=Be(e);let i=si(pe(e),t==="start",o);return r&&(i=i.map(s=>s+"-"+r),n&&(i=i.concat(i.map(yt)))),i}function Ye(e){return e.replace(/left|right|bottom|top/g,n=>Qr[n])}function ai(e){return{top:0,right:0,bottom:0,left:0,...e}}function ci(e){return typeof e!="number"?ai(e):{top:e,right:e,bottom:e,left:e}}function Xe(e){const{x:n,y:t,width:o,height:r}=e;return{width:o,height:r,top:t,left:n,right:n+o,bottom:t+r,x:n,y:t}}function en(e,n,t){let{reference:o,floating:r}=e;const i=ue(n),s=qn(n),l=Kn(s),a=pe(n),c=i==="y",u=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,g=o[l]/2-r[l]/2;let d;switch(a){case"top":d={x:u,y:o.y-r.height};break;case"bottom":d={x:u,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:m};break;case"left":d={x:o.x-r.width,y:m};break;default:d={x:o.x,y:o.y}}switch(Be(n)){case"start":d[s]-=g*(t&&c?-1:1);break;case"end":d[s]+=g*(t&&c?-1:1);break}return d}const ui=async(e,n,t)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=t,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(n));let c=await s.getElementRects({reference:e,floating:n,strategy:r}),{x:u,y:m}=en(c,o,a),g=o,d={},p=0;for(let h=0;h<l.length;h++){const{name:v,fn:b}=l[h],{x:y,y:x,data:w,reset:E}=await b({x:u,y:m,initialPlacement:o,placement:g,strategy:r,middlewareData:d,rects:c,platform:s,elements:{reference:e,floating:n}});u=y??u,m=x??m,d={...d,[v]:{...d[v],...w}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:r}):E.rects),{x:u,y:m}=en(c,g,a)),h=-1)}return{x:u,y:m,placement:g,strategy:r,middlewareData:d}};async function rt(e,n){var t;n===void 0&&(n={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:g=!1,padding:d=0}=Me(n,e),p=ci(d),v=l[g?m==="floating"?"reference":"floating":m],b=Xe(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),y=m==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Xe(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:a}):y);return{top:(b.top-E.top+p.top)/w.y,bottom:(E.bottom-b.bottom+p.bottom)/w.y,left:(b.left-E.left+p.left)/w.x,right:(E.right-b.right+p.right)/w.x}}const fi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=n,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...v}=Me(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const b=pe(r),y=ue(l),x=pe(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),E=g||(x||!h?[Ye(l)]:oi(l)),$=p!=="none";!g&&$&&E.push(...li(l,h,p,w));const R=[l,...E],F=await rt(n,v),_=[];let L=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&_.push(F[b]),m){const P=ni(r,s,w);_.push(F[P[0]],F[P[1]])}if(L=[...L,{placement:r,overflows:_}],!_.every(P=>P<=0)){var I,S;const P=(((I=i.flip)==null?void 0:I.index)||0)+1,M=R[P];if(M&&(!(m==="alignment"?y!==ue(M):!1)||L.every(O=>ue(O.placement)===y?O.overflows[0]>0:!0)))return{data:{index:P,overflows:L},reset:{placement:M}};let k=(S=L.filter(j=>j.overflows[0]<=0).sort((j,O)=>j.overflows[1]-O.overflows[1])[0])==null?void 0:S.placement;if(!k)switch(d){case"bestFit":{var A;const j=(A=L.filter(O=>{if($){const N=ue(O.placement);return N===y||N==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(N=>N>0).reduce((N,B)=>N+B,0)]).sort((O,N)=>O[1]-N[1])[0])==null?void 0:A[0];j&&(k=j);break}case"initialPlacement":k=l;break}if(r!==k)return{reset:{placement:k}}}return{}}}},di=new Set(["left","top"]);async function pi(e,n){const{placement:t,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=pe(t),l=Be(t),a=ue(t)==="y",c=di.has(s)?-1:1,u=i&&a?-1:1,m=Me(n,e);let{mainAxis:g,crossAxis:d,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof p=="number"&&(d=l==="end"?p*-1:p),a?{x:d*u,y:g*c}:{x:g*c,y:d*u}}const mi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,o;const{x:r,y:i,placement:s,middlewareData:l}=n,a=await pi(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},hi=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:o,placement:r}=n,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...a}=Me(e,n),c={x:t,y:o},u=await rt(n,a),m=ue(pe(r)),g=Gn(m);let d=c[g],p=c[m];if(i){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",y=d+u[v],x=d-u[b];d=Zt(y,d,x)}if(s){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=p+u[v],x=p-u[b];p=Zt(y,p,x)}const h=l.fn({...n,[g]:d,[m]:p});return{...h,data:{x:h.x-t,y:h.y-o,enabled:{[g]:i,[m]:s}}}}}},gi=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,o;const{placement:r,rects:i,platform:s,elements:l}=n,{apply:a=()=>{},...c}=Me(e,n),u=await rt(n,c),m=pe(r),g=Be(r),d=ue(r)==="y",{width:p,height:h}=i.floating;let v,b;m==="top"||m==="bottom"?(v=m,b=g===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,v=g==="end"?"top":"bottom");const y=h-u.top-u.bottom,x=p-u.left-u.right,w=be(h-u[v],y),E=be(p-u[b],x),$=!n.middlewareData.shift;let R=w,F=E;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(F=x),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(R=y),$&&!g){const L=Z(u.left,0),I=Z(u.right,0),S=Z(u.top,0),A=Z(u.bottom,0);d?F=p-2*(L!==0||I!==0?L+I:Z(u.left,u.right)):R=h-2*(S!==0||A!==0?S+A:Z(u.top,u.bottom))}await a({...n,availableWidth:F,availableHeight:R});const _=await s.getDimensions(l.floating);return p!==_.width||h!==_.height?{reset:{rects:!0}}:{}}}};function Yn(e){const n=ie(e);let t=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const r=ae(e),i=r?e.offsetWidth:t,s=r?e.offsetHeight:o,l=De(t)!==i||De(o)!==s;return l&&(t=i,o=s),{width:t,height:o,$:l}}function Ft(e){return Q(e)?e:e.contextElement}function Ee(e){const n=Ft(e);if(!ae(n))return se(1);const t=n.getBoundingClientRect(),{width:o,height:r,$:i}=Yn(n);let s=(i?De(t.width):t.width)/o,l=(i?De(t.height):t.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const vi=se(0);function Xn(e){const n=re(e);return!Mt()||!n.visualViewport?vi:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function bi(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==re(e)?!1:n}function xe(e,n,t,o){n===void 0&&(n=!1),t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=Ft(e);let s=se(1);n&&(o?Q(o)&&(s=Ee(o)):s=Ee(e));const l=bi(i,t,o)?Xn(i):se(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,u=r.width/s.x,m=r.height/s.y;if(i){const g=re(i),d=o&&Q(o)?re(o):o;let p=g,h=xt(p);for(;h&&o&&d!==p;){const v=Ee(h),b=h.getBoundingClientRect(),y=ie(h),x=b.left+(h.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(h.clientTop+parseFloat(y.paddingTop))*v.y;a*=v.x,c*=v.y,u*=v.x,m*=v.y,a+=x,c+=w,p=re(h),h=xt(p)}}return Xe({width:u,height:m,x:a,y:c})}function it(e,n){const t=ot(e).scrollLeft;return n?n.left+t:xe(ce(e)).left+t}function Zn(e,n){const t=e.getBoundingClientRect(),o=t.left+n.scrollLeft-it(e,t),r=t.top+n.scrollTop;return{x:o,y:r}}function xi(e){let{elements:n,rect:t,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=ce(o),l=n?nt(n.floating):!1;if(o===s||l&&i)return t;let a={scrollLeft:0,scrollTop:0},c=se(1);const u=se(0),m=ae(o);if((m||!m&&!i)&&((Te(o)!=="body"||ze(s))&&(a=ot(o)),ae(o))){const d=xe(o);c=Ee(o),u.x=d.x+o.clientLeft,u.y=d.y+o.clientTop}const g=s&&!m&&!i?Zn(s,a):se(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-a.scrollLeft*c.x+u.x+g.x,y:t.y*c.y-a.scrollTop*c.y+u.y+g.y}}function yi(e){return Array.from(e.getClientRects())}function wi(e){const n=ce(e),t=ot(e),o=e.ownerDocument.body,r=Z(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),i=Z(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let s=-t.scrollLeft+it(e);const l=-t.scrollTop;return ie(o).direction==="rtl"&&(s+=Z(n.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}const tn=25;function Ei(e,n){const t=re(e),o=ce(e),r=t.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,a=0;if(r){i=r.width,s=r.height;const u=Mt();(!u||u&&n==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}const c=it(o);if(c<=0){const u=o.ownerDocument,m=u.body,g=getComputedStyle(m),d=u.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,p=Math.abs(o.clientWidth-m.clientWidth-d);p<=tn&&(i-=p)}else c<=tn&&(i+=c);return{width:i,height:s,x:l,y:a}}const $i=new Set(["absolute","fixed"]);function Ci(e,n){const t=xe(e,!0,n==="fixed"),o=t.top+e.clientTop,r=t.left+e.clientLeft,i=ae(e)?Ee(e):se(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:s,height:l,x:a,y:c}}function nn(e,n,t){let o;if(n==="viewport")o=Ei(e,t);else if(n==="document")o=wi(ce(e));else if(Q(n))o=Ci(n,t);else{const r=Xn(e);o={x:n.x-r.x,y:n.y-r.y,width:n.width,height:n.height}}return Xe(o)}function Jn(e,n){const t=de(e);return t===n||!Q(t)||Ce(t)?!1:ie(t).position==="fixed"||Jn(t,n)}function Si(e,n){const t=n.get(e);if(t)return t;let o=Le(e,[],!1).filter(l=>Q(l)&&Te(l)!=="body"),r=null;const i=ie(e).position==="fixed";let s=i?de(e):e;for(;Q(s)&&!Ce(s);){const l=ie(s),a=Tt(s);!a&&l.position==="fixed"&&(r=null),(i?!a&&!r:!a&&l.position==="static"&&!!r&&$i.has(r.position)||ze(s)&&!a&&Jn(e,s))?o=o.filter(u=>u!==s):r=l,s=de(s)}return n.set(e,o),o}function Oi(e){let{element:n,boundary:t,rootBoundary:o,strategy:r}=e;const s=[...t==="clippingAncestors"?nt(n)?[]:Si(n,this._c):[].concat(t),o],l=s[0],a=s.reduce((c,u)=>{const m=nn(n,u,r);return c.top=Z(m.top,c.top),c.right=be(m.right,c.right),c.bottom=be(m.bottom,c.bottom),c.left=Z(m.left,c.left),c},nn(n,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ri(e){const{width:n,height:t}=Yn(e);return{width:n,height:t}}function Ti(e,n,t){const o=ae(n),r=ce(n),i=t==="fixed",s=xe(e,!0,i,n);let l={scrollLeft:0,scrollTop:0};const a=se(0);function c(){a.x=it(r)}if(o||!o&&!i)if((Te(n)!=="body"||ze(r))&&(l=ot(n)),o){const d=xe(n,!0,i,n);a.x=d.x+n.clientLeft,a.y=d.y+n.clientTop}else r&&c();i&&!o&&r&&c();const u=r&&!o&&!i?Zn(r,l):se(0),m=s.left+l.scrollLeft-a.x-u.x,g=s.top+l.scrollTop-a.y-u.y;return{x:m,y:g,width:s.width,height:s.height}}function lt(e){return ie(e).position==="static"}function on(e,n){if(!ae(e)||ie(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return ce(e)===t&&(t=t.ownerDocument.body),t}function Qn(e,n){const t=re(e);if(nt(e))return t;if(!ae(e)){let r=de(e);for(;r&&!Ce(r);){if(Q(r)&&!lt(r))return r;r=de(r)}return t}let o=on(e,n);for(;o&&Ur(o)&&lt(o);)o=on(o,n);return o&&Ce(o)&&lt(o)&&!Tt(o)?t:o||Xr(e)||t}const Mi=async function(e){const n=this.getOffsetParent||Qn,t=this.getDimensions,o=await t(e.floating);return{reference:Ti(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Fi(e){return ie(e).direction==="rtl"}const Ii={convertOffsetParentRelativeRectToViewportRelativeRect:xi,getDocumentElement:ce,getClippingRect:Oi,getOffsetParent:Qn,getElementRects:Mi,getClientRects:yi,getDimensions:Ri,getScale:Ee,isElement:Q,isRTL:Fi};function eo(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Pi(e,n){let t=null,o;const r=ce(e);function i(){var l;clearTimeout(o),(l=t)==null||l.disconnect(),t=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const c=e.getBoundingClientRect(),{left:u,top:m,width:g,height:d}=c;if(l||n(),!g||!d)return;const p=Ue(m),h=Ue(r.clientWidth-(u+g)),v=Ue(r.clientHeight-(m+d)),b=Ue(u),x={rootMargin:-p+"px "+-h+"px "+-v+"px "+-b+"px",threshold:Z(0,be(1,a))||1};let w=!0;function E($){const R=$[0].intersectionRatio;if(R!==a){if(!w)return s();R?s(!1,R):o=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!eo(c,e.getBoundingClientRect())&&s(),w=!1}try{t=new IntersectionObserver(E,{...x,root:r.ownerDocument})}catch{t=new IntersectionObserver(E,x)}t.observe(e)}return s(!0),i}function Ai(e,n,t,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=Ft(e),u=r||i?[...c?Le(c):[],...Le(n)]:[];u.forEach(b=>{r&&b.addEventListener("scroll",t,{passive:!0}),i&&b.addEventListener("resize",t)});const m=c&&l?Pi(c,t):null;let g=-1,d=null;s&&(d=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&d&&(d.unobserve(n),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=d)==null||x.observe(n)})),t()}),c&&!a&&d.observe(c),d.observe(n));let p,h=a?xe(e):null;a&&v();function v(){const b=xe(e);h&&!eo(h,b)&&t(),h=b,p=requestAnimationFrame(v)}return t(),()=>{var b;u.forEach(y=>{r&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),m?.(),(b=d)==null||b.disconnect(),d=null,a&&cancelAnimationFrame(p)}}const at=rt,ki=mi,Li=hi,Di=fi,_i=gi,Ni=(e,n,t)=>{const o=new Map,r={platform:Ii,...t},i={...r.platform,_c:o};return ui(e,n,{...r,platform:i})};var Hi=typeof document<"u",zi=function(){},Ge=Hi?f.useLayoutEffect:zi;function Ze(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,o,r;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(o=t;o--!==0;)if(!Ze(e[o],n[o]))return!1;return!0}if(r=Object.keys(e),t=r.length,t!==Object.keys(n).length)return!1;for(o=t;o--!==0;)if(!{}.hasOwnProperty.call(n,r[o]))return!1;for(o=t;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!Ze(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function to(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rn(e,n){const t=to(e);return Math.round(n*t)/t}function ct(e){const n=f.useRef(e);return Ge(()=>{n.current=e}),n}function Bi(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=e,[u,m]=f.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[g,d]=f.useState(o);Ze(g,o)||d(o);const[p,h]=f.useState(null),[v,b]=f.useState(null),y=f.useCallback(O=>{O!==$.current&&($.current=O,h(O))},[]),x=f.useCallback(O=>{O!==R.current&&(R.current=O,b(O))},[]),w=i||p,E=s||v,$=f.useRef(null),R=f.useRef(null),F=f.useRef(u),_=a!=null,L=ct(a),I=ct(r),S=ct(c),A=f.useCallback(()=>{if(!$.current||!R.current)return;const O={placement:n,strategy:t,middleware:g};I.current&&(O.platform=I.current),Ni($.current,R.current,O).then(N=>{const B={...N,isPositioned:S.current!==!1};P.current&&!Ze(F.current,B)&&(F.current=B,oe.flushSync(()=>{m(B)}))})},[g,n,t,I,S]);Ge(()=>{c===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[c]);const P=f.useRef(!1);Ge(()=>(P.current=!0,()=>{P.current=!1}),[]),Ge(()=>{if(w&&($.current=w),E&&(R.current=E),w&&E){if(L.current)return L.current(w,E,A);A()}},[w,E,A,L,_]);const M=f.useMemo(()=>({reference:$,floating:R,setReference:y,setFloating:x}),[y,x]),k=f.useMemo(()=>({reference:w,floating:E}),[w,E]),j=f.useMemo(()=>{const O={position:t,left:0,top:0};if(!k.floating)return O;const N=rn(k.floating,u.x),B=rn(k.floating,u.y);return l?{...O,transform:"translate("+N+"px, "+B+"px)",...to(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:B}},[t,l,k.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:A,refs:M,elements:k,floatingStyles:j}),[u,A,M,k,j])}const no=(e,n)=>({...ki(e),options:[e,n]}),Wi=(e,n)=>({...Li(e),options:[e,n]}),Vi=(e,n)=>({...Di(e),options:[e,n]}),ji=(e,n)=>({..._i(e),options:[e,n]}),oo={...po},Ui=oo.useInsertionEffect,Gi=Ui||(e=>e());function ro(e){const n=f.useRef(()=>{});return Gi(()=>{n.current=e}),f.useCallback(function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n.current==null?void 0:n.current(...o)},[])}var wt=typeof document<"u"?f.useLayoutEffect:f.useEffect;let sn=!1,Ki=0;const ln=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ki++;function qi(){const[e,n]=f.useState(()=>sn?ln():void 0);return wt(()=>{e==null&&n(ln())},[]),f.useEffect(()=>{sn=!0},[]),e}const Yi=oo.useId,Xi=Yi||qi;function Zi(){const e=new Map;return{emit(n,t){var o;(o=e.get(n))==null||o.forEach(r=>r(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var o;e.set(n,((o=e.get(n))==null?void 0:o.filter(r=>r!==t))||[])}}}const Ji=f.createContext(null),Qi=f.createContext(null),es=()=>{var e;return((e=f.useContext(Ji))==null?void 0:e.id)||null},ts=()=>f.useContext(Qi),ns="data-floating-ui-focusable";function os(e){const{open:n=!1,onOpenChange:t,elements:o}=e,r=Xi(),i=f.useRef({}),[s]=f.useState(()=>Zi()),l=es()!=null,[a,c]=f.useState(o.reference),u=ro((d,p,h)=>{i.current.openEvent=d?p:void 0,s.emit("openchange",{open:d,event:p,reason:h,nested:l}),t?.(d,p,h)}),m=f.useMemo(()=>({setPositionReference:c}),[]),g=f.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return f.useMemo(()=>({dataRef:i,open:n,onOpenChange:u,elements:g,events:s,floatingId:r,refs:m}),[n,u,g,s,r,m])}function rs(e){e===void 0&&(e={});const{nodeId:n}=e,t=os({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||t,r=o.elements,[i,s]=f.useState(null),[l,a]=f.useState(null),u=r?.domReference||i,m=f.useRef(null),g=ts();wt(()=>{u&&(m.current=u)},[u]);const d=Bi({...e,elements:{...r,...l&&{reference:l}}}),p=f.useCallback(x=>{const w=Q(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;a(w),d.refs.setReference(w)},[d.refs]),h=f.useCallback(x=>{(Q(x)||x===null)&&(m.current=x,s(x)),(Q(d.refs.reference.current)||d.refs.reference.current===null||x!==null&&!Q(x))&&d.refs.setReference(x)},[d.refs]),v=f.useMemo(()=>({...d.refs,setReference:h,setPositionReference:p,domReference:m}),[d.refs,h,p]),b=f.useMemo(()=>({...d.elements,domReference:u}),[d.elements,u]),y=f.useMemo(()=>({...d,...o,refs:v,elements:b,nodeId:n}),[d,v,b,n,o]);return wt(()=>{o.dataRef.current.floatingContext=y;const x=g?.nodesRef.current.find(w=>w.id===n);x&&(x.context=y)}),f.useMemo(()=>({...d,context:y,refs:v,elements:b}),[d,v,b,y])}const an="active",cn="selected";function ut(e,n,t){const o=new Map,r=t==="item";let i=e;if(r&&e){const{[an]:s,[cn]:l,...a}=e;i=a}return{...t==="floating"&&{tabIndex:-1,[ns]:""},...i,...n.map(s=>{const l=s?s[t]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[c,u]=a;if(!(r&&[an,cn].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof u=="function"){var m;(m=o.get(c))==null||m.push(u),s[c]=function(){for(var g,d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];return(g=o.get(c))==null?void 0:g.map(v=>v(...p)).find(v=>v!==void 0)}}}else s[c]=u}),s),{})}}function is(e){e===void 0&&(e=[]);const n=e.map(l=>l?.reference),t=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=f.useCallback(l=>ut(l,e,"reference"),n),i=f.useCallback(l=>ut(l,e,"floating"),t),s=f.useCallback(l=>ut(l,e,"item"),o);return f.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function un(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const ss=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:c,...u}=Me(e,n),{rects:m,elements:{floating:g}}=n,d=t.current[s],p=c?.current||g,h=g.clientTop||p.clientTop,v=g.clientTop!==0,b=p.clientTop!==0,y=g===p;if(!d)return{};const x={...n,...await no(-d.offsetTop-g.clientTop-m.reference.height/2-d.offsetHeight/2-i).fn(n)},w=await at(un(x,p.scrollHeight+h+g.clientTop),u),E=await at(x,{...u,elementContext:"reference"}),$=Z(0,w.top),R=x.y+$,L=(p.scrollHeight>p.clientHeight?I=>I:De)(Z(0,p.scrollHeight+(v&&y||b?h*2:0)-$-Z(0,w.bottom)));if(p.style.maxHeight=L+"px",p.scrollTop=$,r){const I=p.offsetHeight<d.offsetHeight*be(l,t.current.length)-1||E.top>=-a||E.bottom>=-a;oe.flushSync(()=>r(I))}return o&&(o.current=await at(un({...x,y:R},p.offsetHeight+h+g.clientTop),u)),{y:R}}});function ls(e,n){const{open:t,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=n,a=ro(l),c=f.useRef(!1),u=f.useRef(null),m=f.useRef(null);f.useEffect(()=>{if(!r)return;function d(h){if(h.ctrlKey||!p||i.current==null)return;const v=h.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,x=p.scrollHeight-p.clientHeight,w=v<0?-1:1,E=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!b&&v>0||!y&&v<0?(h.preventDefault(),oe.flushSync(()=>{a($=>$+Math[E](v,x*w))})):/firefox/i.test(Jr())&&(p.scrollTop+=v))}const p=s?.current||o.floating;if(t&&p)return p.addEventListener("wheel",d),requestAnimationFrame(()=>{u.current=p.scrollTop,i.current!=null&&(m.current={...i.current})}),()=>{u.current=null,m.current=null,p.removeEventListener("wheel",d)}},[r,t,o.floating,i,s,a]);const g=f.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const d=s?.current||o.floating;if(!(!i.current||!d||!c.current)){if(u.current!==null){const p=d.scrollTop-u.current;(i.current.bottom<-.5&&p<-1||i.current.top<-.5&&p>1)&&oe.flushSync(()=>a(h=>h+p))}requestAnimationFrame(()=>{u.current=d.scrollTop})}}}),[o.floating,a,i,s]);return f.useMemo(()=>r?{floating:g}:{},[r,g])}let We=f.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});We.displayName="FloatingContext";let It=f.createContext(null);It.displayName="PlacementContext";function as(e){return f.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function cs(){return f.useContext(We).setReference}function us(){let{getFloatingProps:e,slot:n}=f.useContext(We);return f.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor}),[e,n])}function fs(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let n=f.useContext(It),t=f.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i?.outerHTML)!=null?s:i})]);te(()=>{n?.(t??null)},[n,t]);let o=f.useContext(We);return f.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let fn=4;function ds({children:e,enabled:n=!0}){let[t,o]=f.useState(null),[r,i]=f.useState(0),s=f.useRef(null),[l,a]=f.useState(null);ps(l);let c=n&&t!==null&&l!==null,{to:u="bottom",gap:m=0,offset:g=0,padding:d=0,inner:p}=ms(t,l),[h,v="center"]=u.split(" ");te(()=>{c&&i(0)},[c]);let{refs:b,floatingStyles:y,context:x}=rs({open:c,placement:h==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${h}`:`${h}-${v}`,strategy:"absolute",transform:!1,middleware:[no({mainAxis:h==="selection"?0:m,crossAxis:g}),Wi({padding:d}),h!=="selection"&&Vi({padding:d}),h==="selection"&&p?ss({...p,padding:d,overflowRef:s,offset:r,minItemsVisible:fn,referenceOverflowThreshold:d,onFallbackChange(I){var S,A;if(!I)return;let P=x.elements.floating;if(!P)return;let M=parseFloat(getComputedStyle(P).scrollPaddingBottom)||0,k=Math.min(fn,P.childElementCount),j=0,O=0;for(let N of(A=(S=x.elements.floating)==null?void 0:S.childNodes)!=null?A:[])if(wn(N)){let B=N.offsetTop,fe=B+N.clientHeight+M,C=P.scrollTop,q=C+P.clientHeight;if(B>=C&&fe<=q)k--;else{O=Math.max(0,Math.min(fe,q)-Math.max(B,C)),j=N.clientHeight;break}}k>=1&&i(N=>{let B=j*k-O+M;return N>=B?N:B})}}):null,ji({padding:d,apply({availableWidth:I,availableHeight:S,elements:A}){Object.assign(A.floating.style,{overflow:"auto",maxWidth:`${I}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${S}px)`})}})].filter(Boolean),whileElementsMounted:Ai}),[w=h,E=v]=x.placement.split("-");h==="selection"&&(w="selection");let $=f.useMemo(()=>({anchor:[w,E].filter(Boolean).join(" ")}),[w,E]),R=ls(x,{overflowRef:s,onChange:i}),{getReferenceProps:F,getFloatingProps:_}=is([R]),L=H(I=>{a(I),b.setFloating(I)});return f.createElement(It.Provider,{value:o},f.createElement(We.Provider,{value:{setFloating:L,setReference:b.setReference,styles:y,getReferenceProps:F,getFloatingProps:_,slot:$}},e))}function ps(e){te(()=>{if(!e)return;let n=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,o=parseFloat(t);if(isNaN(o))return;let r=parseInt(t);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return n.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{n.disconnect()}},[e])}function ms(e,n){var t,o,r;let i=ft((t=e?.gap)!=null?t:"var(--anchor-gap, 0)",n),s=ft((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",n),l=ft((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",n);return{...e,gap:i,offset:s,padding:l}}function ft(e,n,t=void 0){let o=Je(),r=H((a,c)=>{if(a==null)return[t,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[t,null];let u=dn(a,c);return[u,m=>{let g=io(a);{let d=g.map(p=>window.getComputedStyle(c).getPropertyValue(p));o.requestAnimationFrame(function p(){o.nextFrame(p);let h=!1;for(let[b,y]of g.entries()){let x=window.getComputedStyle(c).getPropertyValue(y);if(d[b]!==x){d[b]=x,h=!0;break}}if(!h)return;let v=dn(a,c);u!==v&&(m(v),u=v)})}return o.dispose}]}return[t,null]}),i=f.useMemo(()=>r(e,n)[0],[e,n]),[s=i,l]=f.useState();return te(()=>{let[a,c]=r(e,n);if(l(a),!!c)return c(l)},[e,n]),s}function io(e){let n=/var\((.*)\)/.exec(e);if(n){let t=n[1].indexOf(",");if(t===-1)return[n[1]];let o=n[1].slice(0,t).trim(),r=n[1].slice(t+1).trim();return r?[o,...io(r)]:[o]}return[]}function dn(e,n){let t=document.createElement("div");n.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(t).marginTop)||0;return n.removeChild(t),o}function hs({children:e,freeze:n},t){let o=Et(n,e);return f.isValidElement(o)?f.cloneElement(o,{ref:t}):D.createElement(D.Fragment,null,o)}const gs=D.forwardRef(hs);function Et(e,n){let[t,o]=f.useState(n);return!e&&t!==n&&o(n),e?t:n}function vs(e){throw new Error("Unexpected object: "+e)}var U=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(U||{});function pn(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 1:{r===-1&&(r=t.length);for(let i=r-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 2:{for(let i=r+1;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 3:{for(let i=t.length-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 4:{for(let i=0;i<t.length;++i)if(n.resolveId(t[i],i,t)===e.id)return i;return o}case 5:return null;default:vs(e)}}const Ae={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function so(e){let n=e.getBoundingClientRect();return`${n.x},${n.y}`}function bs(e,n,t){let o=$t();if(n.kind==="Tracked"){let r=function(){i!==so(e)&&(o.dispose(),t())},{position:i}=n,s=new ResizeObserver(r);s.observe(e),o.add(()=>s.disconnect()),o.addEventListener(window,"scroll",r,{passive:!0}),o.addEventListener(window,"resize",r)}return()=>o.dispose()}var xs=Object.defineProperty,ys=(e,n,t)=>n in e?xs(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,mn=(e,n,t)=>(ys(e,typeof n!="symbol"?n+"":n,t),t),T=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(T||{}),ne=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ne||{}),le=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(le||{}),lo=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e[e.MarkInputAsMoved=12]="MarkInputAsMoved",e))(lo||{});function dt(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=n(e.options.slice()),r=o.length>0&&o[0].dataRef.current.order!==null?o.sort((s,l)=>s.dataRef.current.order-l.dataRef.current.order):Eo(o,s=>s.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let ws={1(e){var n;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1)return e;let t=e.inputElement?Ae.Tracked(so(e.inputElement)):e.inputPositionState;return{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:t,__demoMode:!1}},0(e){var n,t;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1,inputPositionState:Ae.Idle}}return{...e,comboboxState:0,inputPositionState:Ae.Idle,__demoMode:!1}},3(e,n){return e.isTyping===n.isTyping?e:{...e,isTyping:n.isTyping}},2(e,n){var t,o,r,i;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:u}=e.virtual,m=n.focus===U.Specific?n.idx:pn(n,{resolveItems:()=>c,resolveActiveIndex:()=>{var d,p;return(p=(d=e.activeOptionIndex)!=null?d:c.findIndex(h=>!u(h)))!=null?p:null},resolveDisabled:u,resolveId(){throw new Error("Function not implemented.")}}),g=(r=n.trigger)!=null?r:2;return e.activeOptionIndex===m&&e.activationTrigger===g?e:{...e,activeOptionIndex:m,activationTrigger:g,isTyping:!1,__demoMode:!1}}let s=dt(e);if(s.activeOptionIndex===null){let c=s.options.findIndex(u=>!u.dataRef.current.disabled);c!==-1&&(s.activeOptionIndex=c)}let l=n.focus===U.Specific?n.idx:pn(n,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),a=(i=n.trigger)!=null?i:2;return e.activeOptionIndex===l&&e.activationTrigger===a?e:{...e,...s,isTyping:!1,activeOptionIndex:l,activationTrigger:a,__demoMode:!1}},4:(e,n)=>{var t,o,r,i;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,n.payload]};let s=n.payload,l=dt(e,c=>(c.push(s),c));e.activeOptionIndex===null&&(r=(o=e.dataRef.current).isSelected)!=null&&r.call(o,n.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(s));let a={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},5:(e,n)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(r=>r.id!==n.id)};let o=dt(e,r=>{let i=r.findIndex(s=>s.id===n.id);return i!==-1&&r.splice(i,1),r});return{...e,...o,activationTrigger:2}},6:(e,n)=>e.defaultToFirstOption===n.value?e:{...e,defaultToFirstOption:n.value},7:(e,n)=>e.activationTrigger===n.trigger?e:{...e,activationTrigger:n.trigger},8:(e,n)=>{var t,o;if(e.virtual===null)return{...e,virtual:{options:n.options,disabled:(t=n.disabled)!=null?t:()=>!1}};if(e.virtual.options===n.options&&e.virtual.disabled===n.disabled)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=n.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?r=i:r=null}return{...e,activeOptionIndex:r,virtual:{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}}},9:(e,n)=>e.inputElement===n.element?e:{...e,inputElement:n.element},10:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},11:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},12(e){return e.inputPositionState.kind!=="Tracked"?e:{...e,inputPositionState:Ae.Moved}}};class Pt extends yo{constructor(n){super(n),mn(this,"actions",{onChange:t=>{let{onChange:o,compare:r,mode:i,value:s}=this.state.dataRef.current;return $e(i,{0:()=>o?.(t),1:()=>{let l=s.slice(),a=l.findIndex(c=>r(c,t));return a===-1?l.push(t):l.splice(a,1),o?.(l)}})},registerOption:(t,o)=>(this.send({type:4,payload:{id:t,dataRef:o}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(o.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:t})}),goToOption:(t,o)=>(this.send({type:6,value:!1}),this.send({type:2,...t,trigger:o})),setIsTyping:t=>{this.send({type:3,isTyping:t})},closeCombobox:()=>{var t,o;this.send({type:1}),this.send({type:6,value:!1}),(o=(t=this.state.dataRef.current).onClose)==null||o.call(t)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:t=>{this.send({type:7,trigger:t})},selectActiveOption:()=>{let t=this.selectors.activeOptionIndex(this.state);if(t!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[t]);else{let{dataRef:o}=this.state.options[t];this.actions.onChange(o.current.value)}this.actions.goToOption({focus:U.Specific,idx:t})}},setInputElement:t=>{this.send({type:9,element:t})},setButtonElement:t=>{this.send({type:10,element:t})},setOptionsElement:t=>{this.send({type:11,element:t})}}),mn(this,"selectors",{activeDescendantId:t=>{var o,r;let i=this.selectors.activeOptionIndex(t);if(i!==null)return t.virtual?(r=t.options.find(s=>!s.dataRef.current.disabled&&t.dataRef.current.compare(s.dataRef.current.value,t.virtual.options[i])))==null?void 0:r.id:(o=t.options[i])==null?void 0:o.id},activeOptionIndex:t=>{if(t.defaultToFirstOption&&t.activeOptionIndex===null&&(t.virtual?t.virtual.options.length>0:t.options.length>0)){if(t.virtual){let{options:r,disabled:i}=t.virtual,s=r.findIndex(l=>{var a;return!((a=i?.(l))!=null&&a)});if(s!==-1)return s}let o=t.options.findIndex(r=>!r.dataRef.current.disabled);if(o!==-1)return o}return t.activeOptionIndex},activeOption:t=>{var o,r;let i=this.selectors.activeOptionIndex(t);return i===null?null:t.virtual?t.virtual.options[i??0]:(r=(o=t.options[i])==null?void 0:o.dataRef.current.value)!=null?r:null},isActive:(t,o,r)=>{var i;let s=this.selectors.activeOptionIndex(t);return s===null?!1:t.virtual?s===t.dataRef.current.calculateIndex(o):((i=t.options[s])==null?void 0:i.id)===r},shouldScrollIntoView:(t,o,r)=>!(t.virtual||t.__demoMode||t.comboboxState!==0||t.activationTrigger===0||!this.selectors.isActive(t,o,r)),didInputMove(t){return t.inputPositionState.kind==="Moved"}});{let t=this.state.id,o=En.get(null);this.disposables.add(o.on(wo.Push,r=>{!o.selectors.isTop(r,t)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(t)),this.on(1,()=>o.actions.pop(t))}this.disposables.group(t=>{this.on(1,o=>{o.inputElement&&(t.dispose(),t.add(bs(o.inputElement,o.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:n,virtual:t=null,__demoMode:o=!1}){var r;return new Pt({id:n,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o,inputPositionState:Ae.Idle})}reduce(n,t){return $e(t.type,ws,n,t)}}const ao=f.createContext(null);function Ve(e){let n=f.useContext(ao);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,co),t}return n}function co({id:e,virtual:n=null,__demoMode:t=!1}){let o=f.useMemo(()=>Pt.new({id:e,virtual:n,__demoMode:t}),[]);return $o(()=>o.dispose()),o}let _e=f.createContext(null);_e.displayName="ComboboxDataContext";function Fe(e){let n=f.useContext(_e);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Fe),t}return n}let uo=f.createContext(null);function Es(e){let n=Ve("VirtualProvider"),t=Fe("VirtualProvider"),{options:o}=t.virtual,r=K(n,d=>d.optionsElement),[i,s]=f.useMemo(()=>{let d=r;if(!d)return[0,0];let p=window.getComputedStyle(d);return[parseFloat(p.paddingBlockStart||p.paddingTop),parseFloat(p.paddingBlockEnd||p.paddingBottom)]},[r]),l=Ar({enabled:o.length!==0,scrollPaddingStart:i,scrollPaddingEnd:s,count:o.length,estimateSize(){return 40},getScrollElement(){return n.state.optionsElement},overscan:12}),[a,c]=f.useState(0);te(()=>{c(d=>d+1)},[o]);let u=l.getVirtualItems(),m=K(n,d=>d.activationTrigger===le.Pointer),g=K(n,n.selectors.activeOptionIndex);return u.length===0?null:D.createElement(uo.Provider,{value:l},D.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:d=>{d&&(m||g!==null&&o.length>g&&l.scrollToIndex(g))}},u.map(d=>{var p;return D.createElement(f.Fragment,{key:d.key},D.cloneElement((p=e.children)==null?void 0:p.call(e,{...e.slot,option:o[d.index]}),{key:`${a}-${d.key}`,"data-index":d.index,"aria-setsize":o.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let $s=f.Fragment;function Cs(e,n){let t=f.useId(),o=xn(),{value:r,defaultValue:i,onChange:s,form:l,name:a,by:c,invalid:u=!1,disabled:m=o||!1,onClose:g,__demoMode:d=!1,multiple:p=!1,immediate:h=!1,virtual:v=null,nullable:b,...y}=e,x=cr(i),[w=p?[]:void 0,E]=ar(r,s,x),$=co({id:t,virtual:v,__demoMode:d}),R=f.useRef({static:!1,hold:!1}),F=Lr(c),_=H(z=>v?c===null?v.options.indexOf(z):v.options.findIndex(he=>F(he,z)):$.state.options.findIndex(he=>F(he.dataRef.current.value,z))),L=f.useCallback(z=>$e(A.mode,{[ne.Multi]:()=>w.some(he=>F(he,z)),[ne.Single]:()=>F(w,z)}),[w]),I=K($,z=>z.virtual),S=H(()=>g?.()),A=f.useMemo(()=>({__demoMode:d,immediate:h,optionsPropsRef:R,value:w,defaultValue:x,disabled:m,invalid:u,mode:p?ne.Multi:ne.Single,virtual:v?I:null,onChange:E,isSelected:L,calculateIndex:_,compare:F,onClose:S}),[d,h,R,w,x,m,u,p,v,I,E,L,_,F,S]);te(()=>{var z;v&&$.send({type:lo.UpdateVirtualConfiguration,options:v.options,disabled:(z=v.disabled)!=null?z:null})},[v,v?.options,v?.disabled]),te(()=>{$.state.dataRef.current=A},[A]);let[P,M,k,j]=K($,z=>[z.comboboxState,z.buttonElement,z.inputElement,z.optionsElement]),O=En.get(null),N=K(O,f.useCallback(z=>O.selectors.isTop(z,t),[O,t]));Co(N,[M,k,j],()=>$.actions.closeCombobox());let B=K($,$.selectors.activeOptionIndex),fe=K($,$.selectors.activeOption),C=Se({open:P===T.Open,disabled:m,invalid:u,activeIndex:B,activeOption:fe,value:w}),[q,V]=vr(),Y=n===null?{}:{ref:n},W=f.useCallback(()=>{if(x!==void 0)return E?.(x)},[E,x]),J=Re();return D.createElement(V,{value:q,props:{htmlFor:k?.id},slot:{open:P===T.Open,disabled:m}},D.createElement(ds,null,D.createElement(_e.Provider,{value:A},D.createElement(ao.Provider,{value:$},D.createElement(Po,{value:$e(P,{[T.Open]:Ke.Open,[T.Closed]:Ke.Closed})},a!=null&&D.createElement(pr,{disabled:m,data:w!=null?{[a]:w}:{},form:l,onReset:W}),J({ourProps:Y,theirProps:y,slot:C,defaultTag:$s,name:"Combobox"}))))))}let Ss="input";function Os(e,n){var t,o;let r=Ve("Combobox.Input"),i=Fe("Combobox.Input"),s=f.useId(),l=zn(),{id:a=l||`headlessui-combobox-input-${s}`,onChange:c,displayValue:u,disabled:m=i.disabled||!1,autoFocus:g=!1,type:d="text",...p}=e,h=f.useRef(null),v=Ne(h,n,cs(),r.actions.setInputElement),[b,y]=K(r,C=>[C.comboboxState,C.isTyping]),x=Je(),w=H(()=>{r.actions.onChange(null),r.state.optionsElement&&(r.state.optionsElement.scrollTop=0),r.actions.goToOption({focus:U.Nothing})}),E=f.useMemo(()=>{var C;return typeof u=="function"&&i.value!==void 0?(C=u(i.value))!=null?C:"":typeof i.value=="string"?i.value:""},[i.value,u]);Dt(([C,q],[V,Y])=>{if(r.state.isTyping)return;let W=h.current;W&&((Y===T.Open&&q===T.Closed||C!==V)&&(W.value=C),requestAnimationFrame(()=>{if(r.state.isTyping||!W||yn(W))return;let{selectionStart:J,selectionEnd:z}=W;Math.abs((z??0)-(J??0))===0&&J===0&&W.setSelectionRange(W.value.length,W.value.length)}))},[E,b,y]),Dt(([C],[q])=>{if(C===T.Open&&q===T.Closed){if(r.state.isTyping)return;let V=h.current;if(!V)return;let Y=V.value,{selectionStart:W,selectionEnd:J,selectionDirection:z}=V;V.value="",V.value=Y,z!==null?V.setSelectionRange(W,J,z):V.setSelectionRange(W,J)}},[b]);let $=f.useRef(!1),R=H(()=>{$.current=!0}),F=H(()=>{x.nextFrame(()=>{$.current=!1})}),_=H(C=>{switch(r.actions.setIsTyping(!0),C.key){case ee.Enter:if(r.state.comboboxState!==T.Open||$.current)return;if(C.preventDefault(),C.stopPropagation(),r.selectors.activeOptionIndex(r.state)===null){r.actions.closeCombobox();return}r.actions.selectActiveOption(),i.mode===ne.Single&&r.actions.closeCombobox();break;case ee.ArrowDown:return C.preventDefault(),C.stopPropagation(),$e(r.state.comboboxState,{[T.Open]:()=>r.actions.goToOption({focus:U.Next}),[T.Closed]:()=>r.actions.openCombobox()});case ee.ArrowUp:return C.preventDefault(),C.stopPropagation(),$e(r.state.comboboxState,{[T.Open]:()=>r.actions.goToOption({focus:U.Previous}),[T.Closed]:()=>{oe.flushSync(()=>r.actions.openCombobox()),i.value||r.actions.goToOption({focus:U.Last})}});case ee.Home:if(r.state.comboboxState===T.Closed||C.shiftKey)break;return C.preventDefault(),C.stopPropagation(),r.actions.goToOption({focus:U.First});case ee.PageUp:return C.preventDefault(),C.stopPropagation(),r.actions.goToOption({focus:U.First});case ee.End:if(r.state.comboboxState===T.Closed||C.shiftKey)break;return C.preventDefault(),C.stopPropagation(),r.actions.goToOption({focus:U.Last});case ee.PageDown:return C.preventDefault(),C.stopPropagation(),r.actions.goToOption({focus:U.Last});case ee.Escape:return r.state.comboboxState!==T.Open?void 0:(C.preventDefault(),r.state.optionsElement&&!i.optionsPropsRef.current.static&&C.stopPropagation(),i.mode===ne.Single&&i.value===null&&w(),r.actions.closeCombobox());case ee.Tab:if(r.actions.setIsTyping(!1),r.state.comboboxState!==T.Open)return;i.mode===ne.Single&&r.state.activationTrigger!==le.Focus&&r.actions.selectActiveOption(),r.actions.closeCombobox();break}}),L=H(C=>{c?.(C),i.mode===ne.Single&&C.target.value===""&&w(),r.actions.openCombobox()}),I=H(C=>{var q,V,Y;let W=(q=C.relatedTarget)!=null?q:_t.find(J=>J!==C.currentTarget);if(!((V=r.state.optionsElement)!=null&&V.contains(W))&&!((Y=r.state.buttonElement)!=null&&Y.contains(W))&&r.state.comboboxState===T.Open)return C.preventDefault(),i.mode===ne.Single&&i.value===null&&w(),r.actions.closeCombobox()}),S=H(C=>{var q,V,Y;let W=(q=C.relatedTarget)!=null?q:_t.find(J=>J!==C.currentTarget);(V=r.state.buttonElement)!=null&&V.contains(W)||(Y=r.state.optionsElement)!=null&&Y.contains(W)||i.disabled||i.immediate&&r.state.comboboxState!==T.Open&&x.microTask(()=>{oe.flushSync(()=>r.actions.openCombobox()),r.actions.setActivationTrigger(le.Focus)})}),A=et(),P=Fo(),{isFocused:M,focusProps:k}=Dn({autoFocus:g}),{isHovered:j,hoverProps:O}=Ln({isDisabled:m}),N=K(r,C=>C.optionsElement),B=Se({open:b===T.Open,disabled:m,invalid:i.invalid,hover:j,focus:M,autofocus:g}),fe=Ct({ref:v,id:a,role:"combobox",type:d,"aria-controls":N?.id,"aria-expanded":b===T.Open,"aria-activedescendant":K(r,r.selectors.activeDescendantId),"aria-labelledby":A,"aria-describedby":P,"aria-autocomplete":"list",defaultValue:(o=(t=e.defaultValue)!=null?t:i.defaultValue!==void 0?u?.(i.defaultValue):null)!=null?o:i.defaultValue,disabled:m||void 0,autoFocus:g,onCompositionStart:R,onCompositionEnd:F,onKeyDown:_,onChange:L,onFocus:S,onBlur:I},k,O);return Re()({ourProps:fe,theirProps:p,slot:B,defaultTag:Ss,name:"Combobox.Input"})}let Rs="button";function Ts(e,n){let t=Ve("Combobox.Button"),o=Fe("Combobox.Button"),[r,i]=f.useState(null),s=Ne(n,i,t.actions.setButtonElement),l=f.useId(),{id:a=`headlessui-combobox-button-${l}`,disabled:c=o.disabled||!1,autoFocus:u=!1,...m}=e,[g,d,p]=K(t,S=>[S.comboboxState,S.inputElement,S.optionsElement]),h=Vn(d),v=g===T.Open;Hr(v,{trigger:r,action:f.useCallback(S=>{if(r!=null&&r.contains(S.target)||d!=null&&d.contains(S.target))return Ie.Ignore;let A=S.target.closest('[role="option"]:not([data-disabled])');return wn(A)?Ie.Select(A):p!=null&&p.contains(S.target)?Ie.Ignore:Ie.Close},[r,d,p]),close:t.actions.closeCombobox,select:t.actions.selectActiveOption});let b=H(S=>{switch(S.key){case ee.Space:case ee.Enter:S.preventDefault(),S.stopPropagation(),t.state.comboboxState===T.Closed&&oe.flushSync(()=>t.actions.openCombobox()),h();return;case ee.ArrowDown:S.preventDefault(),S.stopPropagation(),t.state.comboboxState===T.Closed&&(oe.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:U.First})),h();return;case ee.ArrowUp:S.preventDefault(),S.stopPropagation(),t.state.comboboxState===T.Closed&&(oe.flushSync(()=>t.actions.openCombobox()),t.state.dataRef.current.value||t.actions.goToOption({focus:U.Last})),h();return;case ee.Escape:if(t.state.comboboxState!==T.Open)return;S.preventDefault(),t.state.optionsElement&&!o.optionsPropsRef.current.static&&S.stopPropagation(),oe.flushSync(()=>t.actions.closeCombobox()),h();return;default:return}}),y=Dr(()=>{t.state.comboboxState===T.Open?t.actions.closeCombobox():t.actions.openCombobox(),h()}),x=et([a]),{isFocusVisible:w,focusProps:E}=Dn({autoFocus:u}),{isHovered:$,hoverProps:R}=Ln({isDisabled:c}),{pressed:F,pressProps:_}=lr({disabled:c}),L=Se({open:g===T.Open,active:F||g===T.Open,disabled:c,invalid:o.invalid,value:o.value,hover:$,focus:w}),I=Ct({ref:s,id:a,type:zr(e,r),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":p?.id,"aria-expanded":g===T.Open,"aria-labelledby":x,disabled:c||void 0,autoFocus:u,onKeyDown:b},y,E,R,_);return Re()({ourProps:I,theirProps:m,slot:L,defaultTag:Rs,name:"Combobox.Button"})}let Ms="div",Fs=Nt.RenderStrategy|Nt.Static;function Is(e,n){var t,o,r;let i=f.useId(),{id:s=`headlessui-combobox-options-${i}`,hold:l=!1,anchor:a,portal:c=!1,modal:u=!0,transition:m=!1,...g}=e,d=Ve("Combobox.Options"),p=Fe("Combobox.Options"),h=as(a);h&&(c=!0);let[v,b]=fs(h),[y,x]=f.useState(null),w=us(),E=Ne(n,h?v:null,d.actions.setOptionsElement,x),[$,R,F,_,L]=K(d,G=>[G.comboboxState,G.inputElement,G.buttonElement,G.optionsElement,G.activationTrigger]),I=Lt(R||F),S=Lt(_),A=ko(),[P,M]=Lo(m,y,A!==null?(A&Ke.Open)===Ke.Open:$===T.Open);Oo(P,R,d.actions.closeCombobox);let k=p.__demoMode?!1:u&&$===T.Open;Ro(k,S);let j=p.__demoMode?!1:u&&$===T.Open;To(j,{allowed:f.useCallback(()=>[R,F,_],[R,F,_])});let O=K(d,d.selectors.didInputMove)?!1:P;te(()=>{var G;p.optionsPropsRef.current.static=(G=e.static)!=null?G:!1},[p.optionsPropsRef,e.static]),te(()=>{p.optionsPropsRef.current.hold=l},[p.optionsPropsRef,l]),Wr($===T.Open,{container:_,accept(G){return G.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:G.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(G){G.setAttribute("role","none")}});let N=et([F?.id]),B=Se({open:$===T.Open,option:void 0}),fe=H(()=>{d.actions.setActivationTrigger(le.Pointer)}),C=H(G=>{G.preventDefault(),d.actions.setActivationTrigger(le.Pointer)}),q=Ct(h?w():{},{"aria-labelledby":N,role:"listbox","aria-multiselectable":p.mode===ne.Multi?!0:void 0,id:s,ref:E,style:{...g.style,...b,"--input-width":Kt(P,R,!0).width,"--button-width":Kt(P,F,!0).width},onWheel:L===le.Pointer?void 0:fe,onMouseDown:C,...Do(M)}),V=P&&$===T.Closed&&!e.static,Y=Et(V,(t=p.virtual)==null?void 0:t.options),W=Et(V,p.value),J=f.useCallback(G=>p.compare(W,G),[p.compare,W]),z=f.useMemo(()=>{if(!p.virtual)return p;if(Y===void 0)throw new Error("Missing `options` in virtual mode");return Y!==p.virtual.options?{...p,virtual:{...p.virtual,options:Y}}:p},[p,Y,(o=p.virtual)==null?void 0:o.options]);p.virtual&&Object.assign(g,{children:D.createElement(_e.Provider,{value:z},D.createElement(Es,{slot:B},g.children))});let he=Re(),fo=f.useMemo(()=>p.mode===ne.Multi?p:{...p,isSelected:J},[p,J]);return D.createElement(Mo,{enabled:c?e.static||P:!1,ownerDocument:I},D.createElement(_e.Provider,{value:fo},he({ourProps:q,theirProps:{...g,children:D.createElement(gs,{freeze:V},typeof g.children=="function"?(r=g.children)==null?void 0:r.call(g,B):g.children)},slot:B,defaultTag:Ms,features:Fs,visible:O,name:"Combobox.Options"})))}let Ps="div";function As(e,n){var t,o,r;let i=Fe("Combobox.Option"),s=Ve("Combobox.Option"),l=f.useId(),{id:a=`headlessui-combobox-option-${l}`,value:c,disabled:u=(r=(o=(t=i.virtual)==null?void 0:t.disabled)==null?void 0:o.call(t,c))!=null?r:!1,order:m=null,...g}=e,[d]=K(s,M=>[M.inputElement]),p=Vn(d),h=K(s,f.useCallback(M=>s.selectors.isActive(M,c,a),[c,a])),v=i.isSelected(c),b=f.useRef(null),y=Ao({disabled:u,value:c,domRef:b,order:m}),x=f.useContext(uo),w=Ne(n,b,x?x.measureElement:null),E=H(()=>{s.actions.setIsTyping(!1),s.actions.onChange(c)});te(()=>s.actions.registerOption(a,y),[y,a]);let $=K(s,f.useCallback(M=>s.selectors.shouldScrollIntoView(M,c,a),[c,a]));te(()=>{if($)return $t().requestAnimationFrame(()=>{var M,k;(k=(M=b.current)==null?void 0:M.scrollIntoView)==null||k.call(M,{block:"nearest"})})},[$,b]);let R=H(M=>{M.preventDefault(),M.button===Rt.Left&&(u||(E(),So()||requestAnimationFrame(()=>p()),i.mode===ne.Single&&s.actions.closeCombobox()))}),F=H(()=>{if(u)return s.actions.goToOption({focus:U.Nothing});let M=i.calculateIndex(c);s.actions.goToOption({focus:U.Specific,idx:M})}),_=Br(),L=H(M=>_.update(M)),I=H(M=>{if(!_.wasMoved(M)||u||h&&s.state.activationTrigger===le.Pointer)return;let k=i.calculateIndex(c);s.actions.goToOption({focus:U.Specific,idx:k},le.Pointer)}),S=H(M=>{_.wasMoved(M)&&(u||h&&(i.optionsPropsRef.current.hold||s.state.activationTrigger===le.Pointer&&s.actions.goToOption({focus:U.Nothing})))}),A=Se({active:h,focus:h,selected:v,disabled:u}),P={id:a,ref:w,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:R,onFocus:F,onPointerEnter:L,onMouseEnter:L,onPointerMove:I,onMouseMove:I,onPointerLeave:S,onMouseLeave:S};return Re()({ourProps:P,theirProps:g,slot:A,defaultTag:Ps,name:"Combobox.Option"})}let ks=Oe(Cs),Ls=Oe(Ts),Ds=Oe(Os),_s=wr,Ns=Oe(Is),Hs=Oe(As),Pe=Object.assign(ks,{Input:Ds,Button:Ls,Label:_s,Options:Ns,Option:Hs});function zs({title:e,titleId:n,...t},o){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},t),e?f.createElement("title",{id:n},e):null,f.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Bs=f.forwardRef(zs);function Ws({title:e,titleId:n,...t},o){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},t),e?f.createElement("title",{id:n},e):null,f.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Vs=f.forwardRef(Ws);function Ks({value:e,onChange:n,persons:t=[]}){const[o,r]=f.useState(""),[i,s]=f.useState(null),[l,a]=f.useState(t),[c,u]=f.useState(!1);f.useEffect(()=>{if(e){const d=l.find(p=>p.id===parseInt(e));s(d||null)}else s(null)},[e,l]);const m=o===""?l:l.filter(d=>d.name.toLowerCase().includes(o.toLowerCase())),g=async()=>{if(o){u(!0);try{const p=(await mo.post(route("admin.persons.store"),{name:o},{headers:{Accept:"application/json"}})).data;a([...l,p]),s(p),n(p.id),r("")}catch(d){console.error("Failed to create person",d)}finally{u(!1)}}};return X.jsx(Pe,{as:"div",value:i,onChange:d=>{d&&(s(d),n(d.id))},children:X.jsxs("div",{className:"relative mt-1",children:[X.jsx(Pe.Input,{className:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-300",onChange:d=>r(d.target.value),displayValue:d=>d?.name,placeholder:"Select or create a person..."}),X.jsx(Pe.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:X.jsx(Vs,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),m.length>0&&X.jsx(Pe.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800",children:m.map(d=>X.jsx(Pe.Option,{value:d,className:({active:p})=>`relative cursor-default select-none py-2 pl-3 pr-9 ${p?"bg-indigo-600 text-white":"text-gray-900 dark:text-gray-300"}`,children:({active:p,selected:h})=>X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"flex items-center",children:[d.photo_url&&X.jsx("img",{src:d.photo_url,alt:"",className:"h-6 w-6 flex-shrink-0 rounded-full mr-2"}),X.jsx("span",{className:`block truncate ${h?"font-semibold":"font-normal"}`,children:d.name})]}),h&&X.jsx("span",{className:`absolute inset-y-0 right-0 flex items-center pr-4 ${p?"text-white":"text-indigo-600"}`,children:X.jsx(Bs,{className:"h-5 w-5","aria-hidden":"true"})})]})},d.id))}),o!==""&&m.length===0&&X.jsx("div",{className:"absolute z-10 mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800",children:X.jsx("div",{className:"relative cursor-pointer select-none py-2 px-4 text-gray-700 dark:text-gray-300 hover:bg-indigo-600 hover:text-white",onClick:g,children:c?"Creating...":`Create "${o}"`})})]})})}export{Ks as P};
