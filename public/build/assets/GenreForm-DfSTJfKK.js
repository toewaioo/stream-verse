import{c as h,j as e}from"./app-BlUwQSBN.js";import{u as v}from"./useFormPersistence-Bck2eF1g.js";import{I as c}from"./InputLabel-o-HfUSd6.js";import{T as d}from"./TextInput-DQGmZ1zW.js";import{I as p}from"./InputError-7QvtulN0.js";import{P as b}from"./PrimaryButton-ChSft8n4.js";import{S as y}from"./SecondaryButton-D98HeL4M.js";import{u as N}from"./useTranslation-DTVDIYQ_.js";function T({genre:s,onClose:r,onSuccess:n}){const{t}=N(),{data:m,setData:o,post:f,put:x,processing:l,errors:u}=h({name:s?.name||"",slug:s?.slug||""}),g=s?.id?`genre_form_update_${s.id}`:"genre_form_create",{clearStorage:i}=v(g,m,o),j=a=>{a.preventDefault(),s?x(route("admin.genres.update",s.id),{onSuccess:()=>{i(),n(),r()}}):f(route("admin.genres.store"),{onSuccess:()=>{i(),n(),r()}})};return e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",value:t("Name")}),e.jsx(d,{id:"name",type:"text",className:"mt-1 block w-full",value:m.name,onChange:a=>o("name",a.target.value),required:!0}),e.jsx(p,{message:u.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"slug",value:t("Slug")}),e.jsx(d,{id:"slug",type:"text",className:"mt-1 block w-full",value:m.slug,onChange:a=>o("slug",a.target.value),required:!0}),e.jsx(p,{message:u.slug,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 border-t pt-4",children:[e.jsx(y,{onClick:r,disabled:l,children:t("Cancel")}),e.jsx(b,{disabled:l,children:t(s?"Update Genre":"Create Genre")})]})]})}export{T as default};
